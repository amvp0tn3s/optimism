<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">

    <title>CELO <> OP optimism forkdiff</title>

    <link rel="icon" type="image/x-icon" href="">

    <style>
        .line-stat {
            width: 14rem;
            float: right;
        }
        .line-stat div {
            width: 50%;
        }
    </style>

    
<style>
    .term-container {
        background: #171717;
        border-radius: 5px;
        color: white;
        word-break: break-word;
        overflow-wrap: break-word;
        font-family: "SFMono-Regular", Monaco, Menlo, Consolas, "Liberation Mono", Courier, monospace;
        font-size: 12px;
        line-height: 20px;
        padding: 14px 18px;
        white-space: pre-wrap;
    }

    .term-container img { max-width: 100%; }

    .term a { color: inherit; text-decoration: underline; text-decoration-style: dashed; }
    .term a:hover { color: #2882F9 }

    @keyframes blink-animation {
        to {
            visibility: hidden;
        }
    }

    .term-fg1 { } /* don't bold beccause it looks weird */
    .term-fg2 { color: #838887; } /* faint (decreased intensity) - same as gray really */
    .term-fg3 { font-style: italic; } /* italic */
    .term-fg4 { text-decoration: underline; } /* underline */
    .term-fg5 { animation: blink-animation 1s steps(3, start) infinite; } /* blink */
    .term-fg9 { text-decoration: line-through; } /* crossed-out */

    .term-fg30 { color: #666666; } /* black (but we can't use black, so a diff color) */
    .term-fg31 { color: #ff7070; } /* red */
    .term-fg32 { color: #b0f986; } /* green */
    .term-fg33 { color: #c6c502; } /* yellow */
    .term-fg34 { color: #8db7e0; } /* blue */
    .term-fg35 { color: #f271fb; } /* magenta */
    .term-fg36 { color: #6bf7ff; } /* cyan */

    /* high intense colors */
    .term-fgi1 { color: #5ef765; }
    .term-fgi90 { color: #838887; } /* grey */
    .term-fgi91 { color: #ff3333; } /* red */
    .term-fgi92 { color: #00FF00; } /* green */
    .term-fgi93 { color: #fffc67; } /* yellow */
    .term-fgi94 { color: #6871ff; } /* blue */
    .term-fgi95 { color: #ff76ff; } /* magenta */
    .term-fgi96 { color: #60fcff; } /* cyan */

    /* background colors */
    .term-bg40 { background: #676767; } /* grey */
    .term-bg41 { background: #ff4343; } /* red */
    .term-bg42 { background: #99ff5f; } /* green */

    /* custom foreground/background combos for readability */
    .term-fg31.term-bg40 { color: #F8A39F; }

    /* xterm colors */
    .term-fgx16 { color: #000000; }
    .term-fgx17 { color: #00005f; }
    .term-fgx18 { color: #000087; }
    .term-fgx19 { color: #0000af; }
    .term-fgx20 { color: #0000d7; }
    .term-fgx21 { color: #0000ff; }
    .term-fgx22 { color: #005f00; }
    .term-fgx23 { color: #005f5f; }
    .term-fgx24 { color: #005f87; }
    .term-fgx25 { color: #005faf; }
    .term-fgx26 { color: #005fd7; }
    .term-fgx27 { color: #005fff; }
    .term-fgx28 { color: #008700; }
    .term-fgx29 { color: #00875f; }
    .term-fgx30 { color: #008787; }
    .term-fgx31 { color: #0087af; }
    .term-fgx32 { color: #0087d7; }
    .term-fgx33 { color: #0087ff; }
    .term-fgx34 { color: #00af00; }
    .term-fgx35 { color: #00af5f; }
    .term-fgx36 { color: #00af87; }
    .term-fgx37 { color: #00afaf; }
    .term-fgx38 { color: #00afd7; }
    .term-fgx39 { color: #00afff; }
    .term-fgx40 { color: #00d700; }
    .term-fgx41 { color: #00d75f; }
    .term-fgx42 { color: #00d787; }
    .term-fgx43 { color: #00d7af; }
    .term-fgx44 { color: #00d7d7; }
    .term-fgx45 { color: #00d7ff; }
    .term-fgx46 { color: #00ff00; }
    .term-fgx47 { color: #00ff5f; }
    .term-fgx48 { color: #00ff87; }
    .term-fgx49 { color: #00ffaf; }
    .term-fgx50 { color: #00ffd7; }
    .term-fgx51 { color: #00ffff; }
    .term-fgx52 { color: #5f0000; }
    .term-fgx53 { color: #5f005f; }
    .term-fgx54 { color: #5f0087; }
    .term-fgx55 { color: #5f00af; }
    .term-fgx56 { color: #5f00d7; }
    .term-fgx57 { color: #5f00ff; }
    .term-fgx58 { color: #5f5f00; }
    .term-fgx59 { color: #5f5f5f; }
    .term-fgx60 { color: #5f5f87; }
    .term-fgx61 { color: #5f5faf; }
    .term-fgx62 { color: #5f5fd7; }
    .term-fgx63 { color: #5f5fff; }
    .term-fgx64 { color: #5f8700; }
    .term-fgx65 { color: #5f875f; }
    .term-fgx66 { color: #5f8787; }
    .term-fgx67 { color: #5f87af; }
    .term-fgx68 { color: #5f87d7; }
    .term-fgx69 { color: #5f87ff; }
    .term-fgx70 { color: #5faf00; }
    .term-fgx71 { color: #5faf5f; }
    .term-fgx72 { color: #5faf87; }
    .term-fgx73 { color: #5fafaf; }
    .term-fgx74 { color: #5fafd7; }
    .term-fgx75 { color: #5fafff; }
    .term-fgx76 { color: #5fd700; }
    .term-fgx77 { color: #5fd75f; }
    .term-fgx78 { color: #5fd787; }
    .term-fgx79 { color: #5fd7af; }
    .term-fgx80 { color: #5fd7d7; }
    .term-fgx81 { color: #5fd7ff; }
    .term-fgx82 { color: #5fff00; }
    .term-fgx83 { color: #5fff5f; }
    .term-fgx84 { color: #5fff87; }
    .term-fgx85 { color: #5fffaf; }
    .term-fgx86 { color: #5fffd7; }
    .term-fgx87 { color: #5fffff; }
    .term-fgx88 { color: #870000; }
    .term-fgx89 { color: #87005f; }
    .term-fgx90 { color: #870087; }
    .term-fgx91 { color: #8700af; }
    .term-fgx92 { color: #8700d7; }
    .term-fgx93 { color: #8700ff; }
    .term-fgx94 { color: #875f00; }
    .term-fgx95 { color: #875f5f; }
    .term-fgx96 { color: #875f87; }
    .term-fgx97 { color: #875faf; }
    .term-fgx98 { color: #875fd7; }
    .term-fgx99 { color: #875fff; }
    .term-fgx100 { color: #878700; }
    .term-fgx101 { color: #87875f; }
    .term-fgx102 { color: #878787; }
    .term-fgx103 { color: #8787af; }
    .term-fgx104 { color: #8787d7; }
    .term-fgx105 { color: #8787ff; }
    .term-fgx106 { color: #87af00; }
    .term-fgx107 { color: #87af5f; }
    .term-fgx108 { color: #87af87; }
    .term-fgx109 { color: #87afaf; }
    .term-fgx110 { color: #87afd7; }
    .term-fgx111 { color: #87afff; }
    .term-fgx112 { color: #87d700; }
    .term-fgx113 { color: #87d75f; }
    .term-fgx114 { color: #87d787; }
    .term-fgx115 { color: #87d7af; }
    .term-fgx116 { color: #87d7d7; }
    .term-fgx117 { color: #87d7ff; }
    .term-fgx118 { color: #87ff00; }
    .term-fgx119 { color: #87ff5f; }
    .term-fgx120 { color: #87ff87; }
    .term-fgx121 { color: #87ffaf; }
    .term-fgx122 { color: #87ffd7; }
    .term-fgx123 { color: #87ffff; }
    .term-fgx124 { color: #af0000; }
    .term-fgx125 { color: #af005f; }
    .term-fgx126 { color: #af0087; }
    .term-fgx127 { color: #af00af; }
    .term-fgx128 { color: #af00d7; }
    .term-fgx129 { color: #af00ff; }
    .term-fgx130 { color: #af5f00; }
    .term-fgx131 { color: #af5f5f; }
    .term-fgx132 { color: #af5f87; }
    .term-fgx133 { color: #af5faf; }
    .term-fgx134 { color: #af5fd7; }
    .term-fgx135 { color: #af5fff; }
    .term-fgx136 { color: #af8700; }
    .term-fgx137 { color: #af875f; }
    .term-fgx138 { color: #af8787; }
    .term-fgx139 { color: #af87af; }
    .term-fgx140 { color: #af87d7; }
    .term-fgx141 { color: #af87ff; }
    .term-fgx142 { color: #afaf00; }
    .term-fgx143 { color: #afaf5f; }
    .term-fgx144 { color: #afaf87; }
    .term-fgx145 { color: #afafaf; }
    .term-fgx146 { color: #afafd7; }
    .term-fgx147 { color: #afafff; }
    .term-fgx148 { color: #afd700; }
    .term-fgx149 { color: #afd75f; }
    .term-fgx150 { color: #afd787; }
    .term-fgx151 { color: #afd7af; }
    .term-fgx152 { color: #afd7d7; }
    .term-fgx153 { color: #afd7ff; }
    .term-fgx154 { color: #afff00; }
    .term-fgx155 { color: #afff5f; }
    .term-fgx156 { color: #afff87; }
    .term-fgx157 { color: #afffaf; }
    .term-fgx158 { color: #afffd7; }
    .term-fgx159 { color: #afffff; }
    .term-fgx160 { color: #d70000; }
    .term-fgx161 { color: #d7005f; }
    .term-fgx162 { color: #d70087; }
    .term-fgx163 { color: #d700af; }
    .term-fgx164 { color: #d700d7; }
    .term-fgx165 { color: #d700ff; }
    .term-fgx166 { color: #d75f00; }
    .term-fgx167 { color: #d75f5f; }
    .term-fgx168 { color: #d75f87; }
    .term-fgx169 { color: #d75faf; }
    .term-fgx170 { color: #d75fd7; }
    .term-fgx171 { color: #d75fff; }
    .term-fgx172 { color: #d78700; }
    .term-fgx173 { color: #d7875f; }
    .term-fgx174 { color: #d78787; }
    .term-fgx175 { color: #d787af; }
    .term-fgx176 { color: #d787d7; }
    .term-fgx177 { color: #d787ff; }
    .term-fgx178 { color: #d7af00; }
    .term-fgx179 { color: #d7af5f; }
    .term-fgx180 { color: #d7af87; }
    .term-fgx181 { color: #d7afaf; }
    .term-fgx182 { color: #d7afd7; }
    .term-fgx183 { color: #d7afff; }
    .term-fgx184 { color: #d7d700; }
    .term-fgx185 { color: #d7d75f; }
    .term-fgx186 { color: #d7d787; }
    .term-fgx187 { color: #d7d7af; }
    .term-fgx188 { color: #d7d7d7; }
    .term-fgx189 { color: #d7d7ff; }
    .term-fgx190 { color: #d7ff00; }
    .term-fgx191 { color: #d7ff5f; }
    .term-fgx192 { color: #d7ff87; }
    .term-fgx193 { color: #d7ffaf; }
    .term-fgx194 { color: #d7ffd7; }
    .term-fgx195 { color: #d7ffff; }
    .term-fgx196 { color: #ff0000; }
    .term-fgx197 { color: #ff005f; }
    .term-fgx198 { color: #ff0087; }
    .term-fgx199 { color: #ff00af; }
    .term-fgx200 { color: #ff00d7; }
    .term-fgx201 { color: #ff00ff; }
    .term-fgx202 { color: #ff5f00; }
    .term-fgx203 { color: #ff5f5f; }
    .term-fgx204 { color: #ff5f87; }
    .term-fgx205 { color: #ff5faf; }
    .term-fgx206 { color: #ff5fd7; }
    .term-fgx207 { color: #ff5fff; }
    .term-fgx208 { color: #ff8700; }
    .term-fgx209 { color: #ff875f; }
    .term-fgx210 { color: #ff8787; }
    .term-fgx211 { color: #ff87af; }
    .term-fgx212 { color: #ff87d7; }
    .term-fgx213 { color: #ff87ff; }
    .term-fgx214 { color: #ffaf00; }
    .term-fgx215 { color: #ffaf5f; }
    .term-fgx216 { color: #ffaf87; }
    .term-fgx217 { color: #ffafaf; }
    .term-fgx218 { color: #ffafd7; }
    .term-fgx219 { color: #ffafff; }
    .term-fgx220 { color: #ffd700; }
    .term-fgx221 { color: #ffd75f; }
    .term-fgx222 { color: #ffd787; }
    .term-fgx223 { color: #ffd7af; }
    .term-fgx224 { color: #ffd7d7; }
    .term-fgx225 { color: #ffd7ff; }
    .term-fgx226 { color: #ffff00; }
    .term-fgx227 { color: #ffff5f; }
    .term-fgx228 { color: #ffff87; }
    .term-fgx229 { color: #ffffaf; }
    .term-fgx230 { color: #ffffd7; }
    .term-fgx231 { color: #ffffff; }
    .term-fgx232 { color: #080808; }
    .term-fgx233 { color: #121212; }
    .term-fgx234 { color: #1c1c1c; }
    .term-fgx235 { color: #262626; }
    .term-fgx236 { color: #303030; }
    .term-fgx237 { color: #3a3a3a; }
    .term-fgx238 { color: #444444; }
    .term-fgx239 { color: #4e4e4e; }
    .term-fgx240 { color: #585858; }
    .term-fgx241 { color: #626262; }
    .term-fgx242 { color: #6c6c6c; }
    .term-fgx243 { color: #767676; }
    .term-fgx244 { color: #808080; }
    .term-fgx245 { color: #8a8a8a; }
    .term-fgx246 { color: #949494; }
    .term-fgx247 { color: #9e9e9e; }
    .term-fgx248 { color: #a8a8a8; }
    .term-fgx249 { color: #b2b2b2; }
    .term-fgx250 { color: #bcbcbc; }
    .term-fgx251 { color: #c6c6c6; }
    .term-fgx252 { color: #d0d0d0; }
    .term-fgx253 { color: #dadada; }
    .term-fgx254 { color: #e4e4e4; }
    .term-fgx255 { color: #eeeeee; }
</style>

</head>
<body>
    <div class="col-xl-10 col-xxl-8 mx-auto px-3 py-1 py-md-3">
        <main class="container-fluid">
            <div class="row">
                <div>
                    <div class="float-end">
                        <div class="form-check form-switch">
                            <i class="bi bi-brightness-low" id="dark-mode-icon"></i>
                            <input class="form-check-input" type="checkbox" role="switch" id="dark-mode-toggle" data-bs-toggle="tooltip"
                                   data-bs-placement="bottom" data-bs-title="Toggle Dark Mode"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"role="button" aria-expanded="true" aria-controls="id-ff3a643cbe0f0c0946f1e881">
        
            <div class="col-12 col-sm-9 text-start"><h1>Celo's optimism</h1></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+1596</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse show border-1 ps-3 my-3" id="id-ff3a643cbe0f0c0946f1e881">
        <div><p>This is an overview of the changes in <a href="https://github.com/celo-org/optimism">Celo&rsquo;s <code>optimism</code> implementation</a>,
a fork of <a href="https://github.com/ethereum-optimism/optimism">Optimism&rsquo;s <code>optimism</code></a>.</p>

<p>Changes are currently separated by sub-package or component. Check out the <a href="https://github.com/celo-org/optimism/blob/develop/README.md">README</a>
for more details about each of these components and packages.</p>
</div>
        <div>
            
        </div>
        <div>
            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-200c19bb02c2e4d2c90c77ca"role="button" aria-expanded="false" aria-controls="id-200c19bb02c2e4d2c90c77ca">
        
            <div class="col-12 col-sm-9 text-start"><h2>packages/*</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+544</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-200c19bb02c2e4d2c90c77ca">
        <div></div>
        <div>
            
        </div>
        <div>
            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-be4d267ab3811f3f95a041d7"role="button" aria-expanded="false" aria-controls="id-be4d267ab3811f3f95a041d7">
        
            <div class="col-12 col-sm-9 text-start"><h3>common-ts</h3></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-be4d267ab3811f3f95a041d7">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-900f7f169483a54110ae2b34"role="button" aria-expanded="false" aria-controls="id-900f7f169483a54110ae2b34">
        
            <div class="col-12 col-sm-9 text-start"><h3>contracts-bedrock</h3></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+544</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-900f7f169483a54110ae2b34">
        <div></div>
        <div>
            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-33159ae66fe67b6c8bde6cc6" role="button"
                   aria-expanded="false" aria-controls="id-33159ae66fe67b6c8bde6cc6">
                    <code>packages/contracts-bedrock/src/celo/GoldToken.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/GoldToken.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+285</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-33159ae66fe67b6c8bde6cc6"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;GoldToken.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;GoldToken.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..b017a1031a5ccb4b41a1601e646573c0e11a70e5</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;GoldToken.sol</span>
<span class="term-fg36">@@ -0,0 +1,285 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: MIT</span>
<span class="term-fg32">+pragma solidity ^0.8.15;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;..&#47;..&#47;lib&#47;openzeppelin-contracts&#47;contracts&#47;access&#47;Ownable.sol&quot;;</span>
<span class="term-fg32">+import &quot;..&#47;..&#47;lib&#47;openzeppelin-contracts&#47;contracts&#47;token&#47;ERC20&#47;IERC20.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;.&#47;UsingRegistry.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;CalledByVm.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;Initializable.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;interfaces&#47;ICeloToken.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;common&#47;interfaces&#47;ICeloVersionedContract.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+contract GoldToken is</span>
<span class="term-fg32">+  Initializable,</span>
<span class="term-fg32">+  CalledByVm,</span>
<span class="term-fg32">+  UsingRegistry,</span>
<span class="term-fg32">+  IERC20,</span>
<span class="term-fg32">+  ICeloToken,</span>
<span class="term-fg32">+  ICeloVersionedContract</span>
<span class="term-fg32">+{</span>
<span class="term-fg32">+  &#47;&#47; Address of the TRANSFER precompiled contract.</span>
<span class="term-fg32">+  &#47;&#47; solhint-disable state-visibility</span>
<span class="term-fg32">+  address constant TRANSFER = address(0xff - 2);</span>
<span class="term-fg32">+  string constant NAME = &quot;Celo native asset&quot;;</span>
<span class="term-fg32">+  string constant SYMBOL = &quot;CELO&quot;;</span>
<span class="term-fg32">+  uint8 constant DECIMALS = 18;</span>
<span class="term-fg32">+  uint256 internal totalSupply_;</span>
<span class="term-fg32">+  &#47;&#47; solhint-enable state-visibility</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  mapping(address =&gt; mapping(address =&gt; uint256)) internal allowed;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; Burn address is 0xdEaD because truffle is having buggy behaviour with the zero address</span>
<span class="term-fg32">+  address constant BURN_ADDRESS = address(0x000000000000000000000000000000000000dEaD);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  event TransferComment(string comment);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Sets initialized == true on implementation contracts</span>
<span class="term-fg32">+   * @param test Set to true to skip implementation initialization</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  constructor(bool test) public Initializable(test) {}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Returns the storage, major, minor, and patch version of the contract.</span>
<span class="term-fg32">+   * @return Storage version of the contract.</span>
<span class="term-fg32">+   * @return Major version of the contract.</span>
<span class="term-fg32">+   * @return Minor version of the contract.</span>
<span class="term-fg32">+   * @return Patch version of the contract.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function getVersionNumber() external pure returns (uint256, uint256, uint256, uint256) {</span>
<span class="term-fg32">+    return (1, 1, 2, 0);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Used in place of the constructor to allow the contract to be upgradable via proxy.</span>
<span class="term-fg32">+   * @param registryAddress Address of the Registry contract.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function initialize(address registryAddress) external initializer {</span>
<span class="term-fg32">+    totalSupply_ = 0;</span>
<span class="term-fg32">+    _transferOwnership(msg.sender);</span>
<span class="term-fg32">+    setRegistry(registryAddress);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Transfers CELO from one address to another.</span>
<span class="term-fg32">+   * @param to The address to transfer CELO to.</span>
<span class="term-fg32">+   * @param value The amount of CELO to transfer.</span>
<span class="term-fg32">+   * @return True if the transaction succeeds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  &#47;&#47; solhint-disable-next-line no-simple-event-func-name</span>
<span class="term-fg32">+  function transfer(address to, uint256 value) external returns (bool) {</span>
<span class="term-fg32">+    return _transferWithCheck(to, value);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Transfers CELO from one address to another with a comment.</span>
<span class="term-fg32">+   * @param to The address to transfer CELO to.</span>
<span class="term-fg32">+   * @param value The amount of CELO to transfer.</span>
<span class="term-fg32">+   * @param comment The transfer comment</span>
<span class="term-fg32">+   * @return True if the transaction succeeds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function transferWithComment(address to, uint256 value, string calldata comment)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    returns (bool)</span>
<span class="term-fg32">+  {</span>
<span class="term-fg32">+    bool succeeded = _transferWithCheck(to, value);</span>
<span class="term-fg32">+    emit TransferComment(comment);</span>
<span class="term-fg32">+    return succeeded;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice This function allows a user to burn a specific amount of tokens.</span>
<span class="term-fg32">+     Burning is implemented by sending tokens to the burn address.</span>
<span class="term-fg32">+   * @param value: The amount of CELO to burn.</span>
<span class="term-fg32">+   * @return True if burn was successful.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function burn(uint256 value) external returns (bool) {</span>
<span class="term-fg32">+    &#47;&#47; not using transferWithCheck as the burn address can potentially be the zero address</span>
<span class="term-fg32">+    return _transfer(BURN_ADDRESS, value);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Approve a user to transfer CELO on behalf of another user.</span>
<span class="term-fg32">+   * @param spender The address which is being approved to spend CELO.</span>
<span class="term-fg32">+   * @param value The amount of CELO approved to the spender.</span>
<span class="term-fg32">+   * @return True if the transaction succeeds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function approve(address spender, uint256 value) external returns (bool) {</span>
<span class="term-fg32">+    require(spender != address(0), &quot;cannot set allowance for 0&quot;);</span>
<span class="term-fg32">+    allowed[msg.sender][spender] = value;</span>
<span class="term-fg32">+    emit Approval(msg.sender, spender, value);</span>
<span class="term-fg32">+    return true;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Increases the allowance of another user.</span>
<span class="term-fg32">+   * @param spender The address which is being approved to spend CELO.</span>
<span class="term-fg32">+   * @param value The increment of the amount of CELO approved to the spender.</span>
<span class="term-fg32">+   * @return True if the transaction succeeds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function increaseAllowance(address spender, uint256 value) external returns (bool) {</span>
<span class="term-fg32">+    require(spender != address(0), &quot;cannot set allowance for 0&quot;);</span>
<span class="term-fg32">+    uint256 oldValue = allowed[msg.sender][spender];</span>
<span class="term-fg32">+    uint256 newValue = oldValue + value;</span>
<span class="term-fg32">+    allowed[msg.sender][spender] = newValue;</span>
<span class="term-fg32">+    emit Approval(msg.sender, spender, newValue);</span>
<span class="term-fg32">+    return true;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Decreases the allowance of another user.</span>
<span class="term-fg32">+   * @param spender The address which is being approved to spend CELO.</span>
<span class="term-fg32">+   * @param value The decrement of the amount of CELO approved to the spender.</span>
<span class="term-fg32">+   * @return True if the transaction succeeds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function decreaseAllowance(address spender, uint256 value) external returns (bool) {</span>
<span class="term-fg32">+    uint256 oldValue = allowed[msg.sender][spender];</span>
<span class="term-fg32">+    uint256 newValue = oldValue - value;</span>
<span class="term-fg32">+    allowed[msg.sender][spender] = newValue;</span>
<span class="term-fg32">+    emit Approval(msg.sender, spender, newValue);</span>
<span class="term-fg32">+    return true;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Transfers CELO from one address to another on behalf of a user.</span>
<span class="term-fg32">+   * @param from The address to transfer CELO from.</span>
<span class="term-fg32">+   * @param to The address to transfer CELO to.</span>
<span class="term-fg32">+   * @param value The amount of CELO to transfer.</span>
<span class="term-fg32">+   * @return True if the transaction succeeds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function transferFrom(address from, address to, uint256 value) external returns (bool) {</span>
<span class="term-fg32">+    require(to != address(0), &quot;transfer attempted to reserved address 0x0&quot;);</span>
<span class="term-fg32">+    require(value &lt;= balanceOf(from), &quot;transfer value exceeded balance of sender&quot;);</span>
<span class="term-fg32">+    require(</span>
<span class="term-fg32">+      value &lt;= allowed[from][msg.sender],</span>
<span class="term-fg32">+      &quot;transfer value exceeded sender&#39;s allowance for spender&quot;</span>
<span class="term-fg32">+    );</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    bool success;</span>
<span class="term-fg32">+    (success, ) = TRANSFER.call{value: 0, gas: gasleft()}(abi.encode(from, to, value));</span>
<span class="term-fg32">+    require(success, &quot;CELO transfer failed&quot;);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    allowed[from][msg.sender] = allowed[from][msg.sender] - value;</span>
<span class="term-fg32">+    emit Transfer(from, to, value);</span>
<span class="term-fg32">+    return true;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Mints new CELO and gives it to &#39;to&#39;.</span>
<span class="term-fg32">+   * @param to The account for which to mint tokens.</span>
<span class="term-fg32">+   * @param value The amount of CELO to mint.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function mint(address to, uint256 value) external onlyVm returns (bool) {</span>
<span class="term-fg32">+    if (value == 0) {</span>
<span class="term-fg32">+      return true;</span>
<span class="term-fg32">+    }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    require(to != address(0), &quot;mint attempted to reserved address 0x0&quot;);</span>
<span class="term-fg32">+    totalSupply_ = totalSupply_ + value;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    bool success;</span>
<span class="term-fg32">+    (success, ) = TRANSFER.call{value: 0, gas: gasleft()}(abi.encode(address(0), to, value));</span>
<span class="term-fg32">+    require(success, &quot;CELO transfer failed&quot;);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    emit Transfer(address(0), to, value);</span>
<span class="term-fg32">+    return true;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @return The name of the CELO token.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function name() external view returns (string memory) {</span>
<span class="term-fg32">+    return NAME;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @return The symbol of the CELO token.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function symbol() external view returns (string memory) {</span>
<span class="term-fg32">+    return SYMBOL;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @return The number of decimal places to which CELO is divisible.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function decimals() external view returns (uint8) {</span>
<span class="term-fg32">+    return DECIMALS;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @return The total amount of CELO in existence, including what the burn address holds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function totalSupply() external view returns (uint256) {</span>
<span class="term-fg32">+    return totalSupply_;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @return The total amount of CELO in existence, not including what the burn address holds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function circulatingSupply() external view returns (uint256) {</span>
<span class="term-fg32">+    return totalSupply_ - getBurnedAmount() - balanceOf(address(0));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Gets the amount of owner&#39;s CELO allowed to be spent by spender.</span>
<span class="term-fg32">+   * @param owner The owner of the CELO.</span>
<span class="term-fg32">+   * @param spender The spender of the CELO.</span>
<span class="term-fg32">+   * @return The amount of CELO owner is allowing spender to spend.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function allowance(address owner, address spender) external view returns (uint256) {</span>
<span class="term-fg32">+    return allowed[owner][spender];</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Increases the variable for total amount of CELO in existence.</span>
<span class="term-fg32">+   * @param amount The amount to increase counter by</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function increaseSupply(uint256 amount) external onlyVm {</span>
<span class="term-fg32">+    totalSupply_ = totalSupply_ + amount;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Gets the amount of CELO that has been burned.</span>
<span class="term-fg32">+   * @return The total amount of Celo that has been sent to the burn address.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function getBurnedAmount() public view returns (uint256) {</span>
<span class="term-fg32">+    return balanceOf(BURN_ADDRESS);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Gets the balance of the specified address.</span>
<span class="term-fg32">+   * @param owner The address to query the balance of.</span>
<span class="term-fg32">+   * @return The balance of the specified address.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function balanceOf(address owner) public view returns (uint256) {</span>
<span class="term-fg32">+    return owner.balance;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice internal CELO transfer from one address to another.</span>
<span class="term-fg32">+   * @param to The address to transfer CELO to.</span>
<span class="term-fg32">+   * @param value The amount of CELO to transfer.</span>
<span class="term-fg32">+   * @return True if the transaction succeeds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function _transfer(address to, uint256 value) internal returns (bool) {</span>
<span class="term-fg32">+    require(value &lt;= balanceOf(msg.sender), &quot;transfer value exceeded balance of sender&quot;);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    bool success;</span>
<span class="term-fg32">+    (success, ) = TRANSFER.call{value: 0, gas: gasleft()}(abi.encode(msg.sender, to, value));</span>
<span class="term-fg32">+    require(success, &quot;CELO transfer failed&quot;);</span>
<span class="term-fg32">+    emit Transfer(msg.sender, to, value);</span>
<span class="term-fg32">+    return true;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Internal CELO transfer from one address to another.</span>
<span class="term-fg32">+   * @param to The address to transfer CELO to. Zero address will revert.</span>
<span class="term-fg32">+   * @param value The amount of CELO to transfer.</span>
<span class="term-fg32">+   * @return True if the transaction succeeds.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function _transferWithCheck(address to, uint256 value) internal returns (bool) {</span>
<span class="term-fg32">+    require(to != address(0), &quot;transfer attempted to reserved address 0x0&quot;);</span>
<span class="term-fg32">+    return _transfer(to, value);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-d4b4ff31a41297da7f8f2b14" role="button"
                   aria-expanded="false" aria-controls="id-d4b4ff31a41297da7f8f2b14">
                    <code>packages/contracts-bedrock/src/celo/UsingRegistry.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/UsingRegistry.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+132</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-d4b4ff31a41297da7f8f2b14"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;UsingRegistry.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;UsingRegistry.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..ef8f80d7e1e9fecb60cc03d9c300657810eaf357</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;UsingRegistry.sol</span>
<span class="term-fg36">@@ -0,0 +1,132 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: MIT</span>
<span class="term-fg32">+pragma solidity ^0.8.15;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;..&#47;..&#47;lib&#47;openzeppelin-contracts&#47;contracts&#47;access&#47;Ownable.sol&quot;;</span>
<span class="term-fg32">+import &quot;..&#47;..&#47;lib&#47;openzeppelin-contracts&#47;contracts&#47;token&#47;ERC20&#47;IERC20.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;.&#47;interfaces&#47;IAccounts.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;interfaces&#47;IFeeCurrencyWhitelist.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;interfaces&#47;IFreezer.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;interfaces&#47;IRegistry.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;.&#47;governance&#47;interfaces&#47;IElection.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;governance&#47;interfaces&#47;IGovernance.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;governance&#47;interfaces&#47;ILockedGold.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;governance&#47;interfaces&#47;IValidators.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;.&#47;identity&#47;interfaces&#47;IRandom.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;identity&#47;interfaces&#47;IAttestations.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;.&#47;stability&#47;interfaces&#47;ISortedOracles.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;.&#47;mento&#47;interfaces&#47;IExchange.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;mento&#47;interfaces&#47;IReserve.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;mento&#47;interfaces&#47;IStableToken.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+contract UsingRegistry is Ownable {</span>
<span class="term-fg32">+  event RegistrySet(address indexed registryAddress);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; solhint-disable state-visibility</span>
<span class="term-fg32">+  bytes32 constant ACCOUNTS_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Accounts&quot;));</span>
<span class="term-fg32">+  bytes32 constant ATTESTATIONS_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Attestations&quot;));</span>
<span class="term-fg32">+  bytes32 constant DOWNTIME_SLASHER_REGISTRY_ID = keccak256(abi.encodePacked(&quot;DowntimeSlasher&quot;));</span>
<span class="term-fg32">+  bytes32 constant DOUBLE_SIGNING_SLASHER_REGISTRY_ID = keccak256(</span>
<span class="term-fg32">+    abi.encodePacked(&quot;DoubleSigningSlasher&quot;)</span>
<span class="term-fg32">+  );</span>
<span class="term-fg32">+  bytes32 constant ELECTION_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Election&quot;));</span>
<span class="term-fg32">+  bytes32 constant EXCHANGE_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Exchange&quot;));</span>
<span class="term-fg32">+  bytes32 constant FEE_CURRENCY_WHITELIST_REGISTRY_ID = keccak256(</span>
<span class="term-fg32">+    abi.encodePacked(&quot;FeeCurrencyWhitelist&quot;)</span>
<span class="term-fg32">+  );</span>
<span class="term-fg32">+  bytes32 constant FREEZER_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Freezer&quot;));</span>
<span class="term-fg32">+  bytes32 constant GOLD_TOKEN_REGISTRY_ID = keccak256(abi.encodePacked(&quot;GoldToken&quot;));</span>
<span class="term-fg32">+  bytes32 constant GOVERNANCE_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Governance&quot;));</span>
<span class="term-fg32">+  bytes32 constant GOVERNANCE_SLASHER_REGISTRY_ID = keccak256(</span>
<span class="term-fg32">+    abi.encodePacked(&quot;GovernanceSlasher&quot;)</span>
<span class="term-fg32">+  );</span>
<span class="term-fg32">+  bytes32 constant LOCKED_GOLD_REGISTRY_ID = keccak256(abi.encodePacked(&quot;LockedGold&quot;));</span>
<span class="term-fg32">+  bytes32 constant RESERVE_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Reserve&quot;));</span>
<span class="term-fg32">+  bytes32 constant RANDOM_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Random&quot;));</span>
<span class="term-fg32">+  bytes32 constant SORTED_ORACLES_REGISTRY_ID = keccak256(abi.encodePacked(&quot;SortedOracles&quot;));</span>
<span class="term-fg32">+  bytes32 constant STABLE_TOKEN_REGISTRY_ID = keccak256(abi.encodePacked(&quot;StableToken&quot;));</span>
<span class="term-fg32">+  bytes32 constant VALIDATORS_REGISTRY_ID = keccak256(abi.encodePacked(&quot;Validators&quot;));</span>
<span class="term-fg32">+  &#47;&#47; solhint-enable state-visibility</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  IRegistry public registry;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  modifier onlyRegisteredContract(bytes32 identifierHash) {</span>
<span class="term-fg32">+    require(registry.getAddressForOrDie(identifierHash) == msg.sender, &quot;only registered contract&quot;);</span>
<span class="term-fg32">+    _;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  modifier onlyRegisteredContracts(bytes32[] memory identifierHashes) {</span>
<span class="term-fg32">+    require(registry.isOneOf(identifierHashes, msg.sender), &quot;only registered contracts&quot;);</span>
<span class="term-fg32">+    _;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Updates the address pointing to a Registry contract.</span>
<span class="term-fg32">+   * @param registryAddress The address of a registry contract for routing to other contracts.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function setRegistry(address registryAddress) public onlyOwner {</span>
<span class="term-fg32">+    require(registryAddress != address(0), &quot;Cannot register the null address&quot;);</span>
<span class="term-fg32">+    registry = IRegistry(registryAddress);</span>
<span class="term-fg32">+    emit RegistrySet(registryAddress);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getAccounts() internal view returns (IAccounts) {</span>
<span class="term-fg32">+    return IAccounts(registry.getAddressForOrDie(ACCOUNTS_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getAttestations() internal view returns (IAttestations) {</span>
<span class="term-fg32">+    return IAttestations(registry.getAddressForOrDie(ATTESTATIONS_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getElection() internal view returns (IElection) {</span>
<span class="term-fg32">+    return IElection(registry.getAddressForOrDie(ELECTION_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getExchange() internal view returns (IExchange) {</span>
<span class="term-fg32">+    return IExchange(registry.getAddressForOrDie(EXCHANGE_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getFeeCurrencyWhitelistRegistry() internal view returns (IFeeCurrencyWhitelist) {</span>
<span class="term-fg32">+    return IFeeCurrencyWhitelist(registry.getAddressForOrDie(FEE_CURRENCY_WHITELIST_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getFreezer() internal view returns (IFreezer) {</span>
<span class="term-fg32">+    return IFreezer(registry.getAddressForOrDie(FREEZER_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getGoldToken() internal view returns (IERC20) {</span>
<span class="term-fg32">+    return IERC20(registry.getAddressForOrDie(GOLD_TOKEN_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getGovernance() internal view returns (IGovernance) {</span>
<span class="term-fg32">+    return IGovernance(registry.getAddressForOrDie(GOVERNANCE_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getLockedGold() internal view returns (ILockedGold) {</span>
<span class="term-fg32">+    return ILockedGold(registry.getAddressForOrDie(LOCKED_GOLD_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getRandom() internal view returns (IRandom) {</span>
<span class="term-fg32">+    return IRandom(registry.getAddressForOrDie(RANDOM_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getReserve() internal view returns (IReserve) {</span>
<span class="term-fg32">+    return IReserve(registry.getAddressForOrDie(RESERVE_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getSortedOracles() internal view returns (ISortedOracles) {</span>
<span class="term-fg32">+    return ISortedOracles(registry.getAddressForOrDie(SORTED_ORACLES_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getStableToken() internal view returns (IStableToken) {</span>
<span class="term-fg32">+    return IStableToken(registry.getAddressForOrDie(STABLE_TOKEN_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getValidators() internal view returns (IValidators) {</span>
<span class="term-fg32">+    return IValidators(registry.getAddressForOrDie(VALIDATORS_REGISTRY_ID));</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-9a756a640541c93da3e51de3" role="button"
                   aria-expanded="false" aria-controls="id-9a756a640541c93da3e51de3">
                    <code>packages/contracts-bedrock/src/celo/Registry.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/Registry.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+100</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-9a756a640541c93da3e51de3"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;Registry.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;Registry.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..35bce14e52a0463c58e15600442228e0c4dd69ca</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;Registry.sol</span>
<span class="term-fg36">@@ -0,0 +1,100 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: MIT</span>
<span class="term-fg32">+pragma solidity ^0.8.15;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;..&#47;..&#47;lib&#47;openzeppelin-contracts&#47;contracts&#47;access&#47;Ownable.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import &quot;.&#47;interfaces&#47;IRegistry.sol&quot;;</span>
<span class="term-fg32">+import &quot;.&#47;Initializable.sol&quot;;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+&#47;**</span>
<span class="term-fg32">+ * @title Routes identifiers to addresses.</span>
<span class="term-fg32">+ *&#47;</span>
<span class="term-fg32">+contract Registry is IRegistry, Ownable, Initializable {</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  mapping(bytes32 =&gt; address) public registry;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  event RegistryUpdated(string identifier, bytes32 indexed identifierHash, address indexed addr);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Sets initialized == true on implementation contracts</span>
<span class="term-fg32">+   * @param test Set to true to skip implementation initialization</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  constructor(bool test) Initializable(test) {}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Used in place of the constructor to allow the contract to be upgradable via proxy.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function initialize() external initializer {</span>
<span class="term-fg32">+    _transferOwnership(msg.sender);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Associates the given address with the given identifier.</span>
<span class="term-fg32">+   * @param identifier Identifier of contract whose address we want to set.</span>
<span class="term-fg32">+   * @param addr Address of contract.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function setAddressFor(string calldata identifier, address addr) external onlyOwner {</span>
<span class="term-fg32">+    bytes32 identifierHash = keccak256(abi.encodePacked(identifier));</span>
<span class="term-fg32">+    registry[identifierHash] = addr;</span>
<span class="term-fg32">+    emit RegistryUpdated(identifier, identifierHash, addr);</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Gets address associated with the given identifierHash.</span>
<span class="term-fg32">+   * @param identifierHash Identifier hash of contract whose address we want to look up.</span>
<span class="term-fg32">+   * @dev Throws if address not set.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function getAddressForOrDie(bytes32 identifierHash) external view returns (address) {</span>
<span class="term-fg32">+    require(registry[identifierHash] != address(0), &quot;identifier has no registry entry&quot;);</span>
<span class="term-fg32">+    return registry[identifierHash];</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Gets address associated with the given identifierHash.</span>
<span class="term-fg32">+   * @param identifierHash Identifier hash of contract whose address we want to look up.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function getAddressFor(bytes32 identifierHash) external view returns (address) {</span>
<span class="term-fg32">+    return registry[identifierHash];</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Gets address associated with the given identifier.</span>
<span class="term-fg32">+   * @param identifier Identifier of contract whose address we want to look up.</span>
<span class="term-fg32">+   * @dev Throws if address not set.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function getAddressForStringOrDie(string calldata identifier) external view returns (address) {</span>
<span class="term-fg32">+    bytes32 identifierHash = keccak256(abi.encodePacked(identifier));</span>
<span class="term-fg32">+    require(registry[identifierHash] != address(0), &quot;identifier has no registry entry&quot;);</span>
<span class="term-fg32">+    return registry[identifierHash];</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Gets address associated with the given identifier.</span>
<span class="term-fg32">+   * @param identifier Identifier of contract whose address we want to look up.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function getAddressForString(string calldata identifier) external view returns (address) {</span>
<span class="term-fg32">+    bytes32 identifierHash = keccak256(abi.encodePacked(identifier));</span>
<span class="term-fg32">+    return registry[identifierHash];</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Iterates over provided array of identifiers, getting the address for each.</span>
<span class="term-fg32">+   *         Returns true if `sender` matches the address of one of the provided identifiers.</span>
<span class="term-fg32">+   * @param identifierHashes Array of hashes of approved identifiers.</span>
<span class="term-fg32">+   * @param sender Address in question to verify membership.</span>
<span class="term-fg32">+   * @return True if `sender` corresponds to the address of any of `identifiers`</span>
<span class="term-fg32">+   *         registry entries.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function isOneOf(bytes32[] calldata identifierHashes, address sender)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (bool)</span>
<span class="term-fg32">+  {</span>
<span class="term-fg32">+    for (uint256 i = 0; i &lt; identifierHashes.length; i++) {</span>
<span class="term-fg32">+      if (registry[identifierHashes[i]] == sender) {</span>
<span class="term-fg32">+        return true;</span>
<span class="term-fg32">+      }</span>
<span class="term-fg32">+    }</span>
<span class="term-fg32">+    return false;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-85dbbfd3909ec28789a038b4" role="button"
                   aria-expanded="false" aria-controls="id-85dbbfd3909ec28789a038b4">
                    <code>packages/contracts-bedrock/src/celo/Initializable.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/Initializable.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+18</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-85dbbfd3909ec28789a038b4"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;Initializable.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;Initializable.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..fcd03bc8123c773959feefd70662dfd3ed322e18</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;Initializable.sol</span>
<span class="term-fg36">@@ -0,0 +1,18 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+contract Initializable {</span>
<span class="term-fg32">+  bool public initialized;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  modifier initializer() {</span>
<span class="term-fg32">+    require(!initialized, &quot;contract already initialized&quot;);</span>
<span class="term-fg32">+    initialized = true;</span>
<span class="term-fg32">+    _;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  constructor(bool testingDeployment) {</span>
<span class="term-fg32">+    if (!testingDeployment) {</span>
<span class="term-fg32">+      initialized = true;</span>
<span class="term-fg32">+    }</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-dfda35ee893114ea88fd6332" role="button"
                   aria-expanded="false" aria-controls="id-dfda35ee893114ea88fd6332">
                    <code>packages/contracts-bedrock/src/celo/CalledByVm.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/CalledByVm.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+9</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-dfda35ee893114ea88fd6332"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;CalledByVm.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;CalledByVm.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..5ba141b788fa42955b11a02eac0db153505c250f</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;CalledByVm.sol</span>
<span class="term-fg36">@@ -0,0 +1,9 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+contract CalledByVm {</span>
<span class="term-fg32">+  modifier onlyVm() {</span>
<span class="term-fg32">+    require(msg.sender == address(0), &quot;Only VM can call&quot;);</span>
<span class="term-fg32">+    _;</span>
<span class="term-fg32">+  }</span>
<span class="term-fg32">+}</span></div>
    </div>

            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-ca50cd0281b0cc2c937a8d0c"role="button" aria-expanded="false" aria-controls="id-ca50cd0281b0cc2c937a8d0c">
        
            <div class="col-12 col-sm-9 text-start"><h3>core-utils</h3></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-ca50cd0281b0cc2c937a8d0c">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-8017ea05f7e839c5a55842f6"role="button" aria-expanded="false" aria-controls="id-8017ea05f7e839c5a55842f6">
        
            <div class="col-12 col-sm-9 text-start"><h3>chain-mon</h3></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-8017ea05f7e839c5a55842f6">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-5fcabd148afb339764ab66e7"role="button" aria-expanded="false" aria-controls="id-5fcabd148afb339764ab66e7">
        
            <div class="col-12 col-sm-9 text-start"><h3>sdk</h3></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-5fcabd148afb339764ab66e7">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-634be98d8ad128ae38c7dca0"role="button" aria-expanded="false" aria-controls="id-634be98d8ad128ae38c7dca0">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-bindings</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-634be98d8ad128ae38c7dca0">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-1ad430c5d6c9dd87c46cbba3"role="button" aria-expanded="false" aria-controls="id-1ad430c5d6c9dd87c46cbba3">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-batcher</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-1ad430c5d6c9dd87c46cbba3">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-b4c5b55857ff486e6cc6c2c4"role="button" aria-expanded="false" aria-controls="id-b4c5b55857ff486e6cc6c2c4">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-bootnode</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-b4c5b55857ff486e6cc6c2c4">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-805c26b5235257640c1ca4ae"role="button" aria-expanded="false" aria-controls="id-805c26b5235257640c1ca4ae">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-chain-ops</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+344</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-805c26b5235257640c1ca4ae">
        <div></div>
        <div>
            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-3721bfcd69e812b591a70108" role="button"
                   aria-expanded="false" aria-controls="id-3721bfcd69e812b591a70108">
                    <code>op-chain-ops/migrate.sh</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/op-chain-ops/migrate.sh" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+9</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-3721bfcd69e812b591a70108"><span class="term-fg1">diff --git OP&#47;op-chain-ops&#47;migrate.sh CELO&#47;op-chain-ops&#47;migrate.sh</span>
<span class="term-fg1">new file mode 100755</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..6f317dc64886c3b541f7ca67f4fccfbb3ebaaddb</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;op-chain-ops&#47;migrate.sh</span>
<span class="term-fg36">@@ -0,0 +1,10 @@</span>
<span class="term-fg32">+set -o errexit   # abort on nonzero exitstatus</span>
<span class="term-fg32">+set -o nounset   # abort on unbound variable</span>
<span class="term-fg32">+set -o pipefail  # don&#39;t hide errors within pipes</span>
<span class="term-fg32">+set -x</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+echo &quot;Starting Migration&quot;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+.&#47;bin&#47;op-migrate \</span>
<span class="term-fg32">+  --db-path=${CELO_DATADIR:-~&#47;celo-blockchain&#47;tmp&#47;testenv&#47;validator-00&#47;} \</span>
<span class="term-fg32">+  --dry-run</span>
<span class="term-fg32">\ No newline at end of file</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-0ee0d332d2e64c8ea4322c1b" role="button"
                   aria-expanded="false" aria-controls="id-0ee0d332d2e64c8ea4322c1b">
                    <code>op-chain-ops/cmd/op-migrate/README.md</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/op-chain-ops/cmd/op-migrate/README.md" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+23</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-0ee0d332d2e64c8ea4322c1b"><span class="term-fg1">diff --git OP&#47;op-chain-ops&#47;cmd&#47;op-migrate&#47;README.md CELO&#47;op-chain-ops&#47;cmd&#47;op-migrate&#47;README.md</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..700aab909a92fec1e7ecadb0c1946c613baf79bf</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;op-chain-ops&#47;cmd&#47;op-migrate&#47;README.md</span>
<span class="term-fg36">@@ -0,0 +1,24 @@</span>
<span class="term-fg32">+# State migrator</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+This tool allows migrating the state of a Celo chain to a genesis block for a CeL2 chain.</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+## Test Setup</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+Create a local chain (assuming this in run in the `celo-blockchain` repository):</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+```sh</span>
<span class="term-fg32">+build&#47;bin&#47;mycelo genesis --buildpath compiled-system-contracts --dev.accounts 2 --newenv tmp&#47;testenv --mnemonic &quot;miss fire behind decide egg buyer honey seven advance uniform profit renew&quot;</span>
<span class="term-fg32">+build&#47;bin&#47;mycelo validator-init tmp&#47;testenv&#47;</span>
<span class="term-fg32">+build&#47;bin&#47;mycelo validator-run tmp&#47;testenv&#47;</span>
<span class="term-fg32">+```</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+Create some data</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+```sh</span>
<span class="term-fg32">+build&#47;bin&#47;mycelo load-bot tmp&#47;testenv</span>
<span class="term-fg32">+```</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+To run the migration, run in `op-chain-ops` (set `CELO_DATADIR` if the `celo-blockchain` repo is not located at `~&#47;celo-blockchain`):</span>
<span class="term-fg32">+```sh</span>
<span class="term-fg32">+make &amp;&amp; .&#47;migrate.sh</span>
<span class="term-fg32">+```</span>
<span class="term-fg32">\ No newline at end of file</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-00ec76dc84fe36a832f27d1b" role="button"
                   aria-expanded="false" aria-controls="id-00ec76dc84fe36a832f27d1b">
                    <code>op-chain-ops/cmd/op-migrate/main.go</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/op-chain-ops/cmd/op-migrate/main.go" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+312</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-00ec76dc84fe36a832f27d1b"><span class="term-fg1">diff --git OP&#47;op-chain-ops&#47;cmd&#47;op-migrate&#47;main.go CELO&#47;op-chain-ops&#47;cmd&#47;op-migrate&#47;main.go</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..b1e189023802a82350b6641e2f17df89d41968c9</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;op-chain-ops&#47;cmd&#47;op-migrate&#47;main.go</span>
<span class="term-fg36">@@ -0,0 +1,312 @@</span>
<span class="term-fg32">+package main</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+import (</span>
<span class="term-fg32">+	&quot;fmt&quot;</span>
<span class="term-fg32">+	&quot;math&#47;big&quot;</span>
<span class="term-fg32">+	&quot;os&quot;</span>
<span class="term-fg32">+	&quot;path&#47;filepath&quot;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&quot;github.com&#47;ethereum-optimism&#47;optimism&#47;op-bindings&#47;predeploys&quot;</span>
<span class="term-fg32">+	&quot;github.com&#47;mattn&#47;go-isatty&quot;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&quot;github.com&#47;urfave&#47;cli&#47;v2&quot;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;common&quot;</span>
<span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;rawdb&quot;</span>
<span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;core&#47;types&quot;</span>
<span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;ethdb&quot;</span>
<span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;log&quot;</span>
<span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;params&quot;</span>
<span class="term-fg32">+	&quot;github.com&#47;ethereum&#47;go-ethereum&#47;trie&quot;</span>
<span class="term-fg32">+)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+&#47;&#47; from `packages&#47;contracts-bedrock&#47;deploy-config&#47;internal-devnet.json`</span>
<span class="term-fg32">+var (</span>
<span class="term-fg32">+	EIP1559Denominator = uint64(50) &#47;&#47; TODO: what values</span>
<span class="term-fg32">+	EIP1559Elasticity  = uint64(10)</span>
<span class="term-fg32">+)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+func main() {</span>
<span class="term-fg32">+	log.Root().SetHandler(log.StreamHandler(os.Stderr, log.TerminalFormat(isatty.IsTerminal(os.Stderr.Fd()))))</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	app := &amp;cli.App{</span>
<span class="term-fg32">+		Name:  &quot;migrate&quot;,</span>
<span class="term-fg32">+		Usage: &quot;Migrate Celo state to a CeL2 genesis DB&quot;,</span>
<span class="term-fg32">+		Flags: []cli.Flag{</span>
<span class="term-fg32">+			&amp;cli.StringFlag{</span>
<span class="term-fg32">+				Name:     &quot;db-path&quot;,</span>
<span class="term-fg32">+				Usage:    &quot;Path to database&quot;,</span>
<span class="term-fg32">+				Required: true,</span>
<span class="term-fg32">+			},</span>
<span class="term-fg32">+			&amp;cli.BoolFlag{</span>
<span class="term-fg32">+				Name:  &quot;dry-run&quot;,</span>
<span class="term-fg32">+				Usage: &quot;Dry run the upgrade by not committing the database&quot;,</span>
<span class="term-fg32">+			},</span>
<span class="term-fg32">+			&amp;cli.BoolFlag{</span>
<span class="term-fg32">+				Name:  &quot;no-check&quot;,</span>
<span class="term-fg32">+				Usage: &quot;Do not perform sanity checks. This should only be used for testing&quot;,</span>
<span class="term-fg32">+			},</span>
<span class="term-fg32">+			&amp;cli.IntFlag{</span>
<span class="term-fg32">+				Name:  &quot;db-cache&quot;,</span>
<span class="term-fg32">+				Usage: &quot;LevelDB cache size in mb&quot;,</span>
<span class="term-fg32">+				Value: 1024,</span>
<span class="term-fg32">+			},</span>
<span class="term-fg32">+			&amp;cli.IntFlag{</span>
<span class="term-fg32">+				Name:  &quot;db-handles&quot;,</span>
<span class="term-fg32">+				Usage: &quot;LevelDB number of handles&quot;,</span>
<span class="term-fg32">+				Value: 60,</span>
<span class="term-fg32">+			},</span>
<span class="term-fg32">+		},</span>
<span class="term-fg32">+		Action: func(ctx *cli.Context) error {</span>
<span class="term-fg32">+			dbCache := ctx.Int(&quot;db-cache&quot;)</span>
<span class="term-fg32">+			dbHandles := ctx.Int(&quot;db-handles&quot;)</span>
<span class="term-fg32">+			dbPath := ctx.String(&quot;db-path&quot;)</span>
<span class="term-fg32">+			log.Info(&quot;Opening database&quot;, &quot;dbCache&quot;, dbCache, &quot;dbHandles&quot;, dbHandles, &quot;dbPath&quot;, dbPath)</span>
<span class="term-fg32">+			ldb, err := Open(dbPath, dbCache, dbHandles)</span>
<span class="term-fg32">+			if err != nil {</span>
<span class="term-fg32">+				return fmt.Errorf(&quot;cannot open DB: %w&quot;, err)</span>
<span class="term-fg32">+			}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+			dryRun := ctx.Bool(&quot;dry-run&quot;)</span>
<span class="term-fg32">+			noCheck := ctx.Bool(&quot;no-check&quot;)</span>
<span class="term-fg32">+			if noCheck {</span>
<span class="term-fg32">+				panic(&quot;must run with check on&quot;)</span>
<span class="term-fg32">+			}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+			&#47;&#47; Perform the migration</span>
<span class="term-fg32">+			_, err = MigrateDB(ldb, !dryRun, noCheck)</span>
<span class="term-fg32">+			if err != nil {</span>
<span class="term-fg32">+				return err</span>
<span class="term-fg32">+			}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+			&#47;&#47; Close the database handle</span>
<span class="term-fg32">+			if err := ldb.Close(); err != nil {</span>
<span class="term-fg32">+				return err</span>
<span class="term-fg32">+			}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+			log.Info(&quot;Finished migration successfully!&quot;)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+			return nil</span>
<span class="term-fg32">+		},</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	if err := app.Run(os.Args); err != nil {</span>
<span class="term-fg32">+		log.Crit(&quot;error in migration&quot;, &quot;err&quot;, err)</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+type MigrationResult struct {</span>
<span class="term-fg32">+	TransitionHeight    uint64</span>
<span class="term-fg32">+	TransitionTimestamp uint64</span>
<span class="term-fg32">+	TransitionBlockHash common.Hash</span>
<span class="term-fg32">+}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+&#47;&#47; MigrateDB will migrate a celo database to a new OP genesis block</span>
<span class="term-fg32">+func MigrateDB(ldb ethdb.Database, commit, noCheck bool) (*MigrationResult, error) {</span>
<span class="term-fg32">+	log.Info(&quot;Migrating DB&quot;)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Grab the hash of the tip of the legacy chain.</span>
<span class="term-fg32">+	hash := rawdb.ReadHeadHeaderHash(ldb)</span>
<span class="term-fg32">+	log.Info(&quot;Reading chain tip from database&quot;, &quot;hash&quot;, hash)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Grab the header number.</span>
<span class="term-fg32">+	num := rawdb.ReadHeaderNumber(ldb, hash)</span>
<span class="term-fg32">+	if num == nil {</span>
<span class="term-fg32">+		return nil, fmt.Errorf(&quot;cannot find header number for %s&quot;, hash)</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+	log.Info(&quot;Reading chain tip num from database&quot;, &quot;number&quot;, num)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Grab the full header.</span>
<span class="term-fg32">+	header := rawdb.ReadHeader(ldb, hash, *num)</span>
<span class="term-fg32">+	trieRoot := header.Root</span>
<span class="term-fg32">+	log.Info(&quot;Read header from database&quot;, &quot;number&quot;, header)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; We need to update the chain config to set the correct hardforks.</span>
<span class="term-fg32">+	genesisHash := rawdb.ReadCanonicalHash(ldb, 0)</span>
<span class="term-fg32">+	cfg := rawdb.ReadChainConfig(ldb, genesisHash)</span>
<span class="term-fg32">+	if cfg == nil {</span>
<span class="term-fg32">+		log.Crit(&quot;chain config not found&quot;)</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+	log.Info(&quot;Read config from database&quot;, &quot;config&quot;, cfg)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; dbFactory := func() (*state.StateDB, error) {</span>
<span class="term-fg32">+	&#47;&#47; 	&#47;&#47; Set up the backing store.</span>
<span class="term-fg32">+	&#47;&#47; 	underlyingDB := state.NewDatabaseWithConfig(ldb, &amp;trie.Config{</span>
<span class="term-fg32">+	&#47;&#47; 		Preimages: true,</span>
<span class="term-fg32">+	&#47;&#47; 		Cache:     1024,</span>
<span class="term-fg32">+	&#47;&#47; 	})</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; 	&#47;&#47; Open up the state database.</span>
<span class="term-fg32">+	&#47;&#47; 	db, err := state.New(header.Root, underlyingDB, nil)</span>
<span class="term-fg32">+	&#47;&#47; 	if err != nil {</span>
<span class="term-fg32">+	&#47;&#47; 		return nil, fmt.Errorf(&quot;cannot open StateDB: %w&quot;, err)</span>
<span class="term-fg32">+	&#47;&#47; 	}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; 	return db, nil</span>
<span class="term-fg32">+	&#47;&#47; }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; db, err := dbFactory()</span>
<span class="term-fg32">+	&#47;&#47; if err != nil {</span>
<span class="term-fg32">+	&#47;&#47; 	return nil, fmt.Errorf(&quot;cannot create StateDB: %w&quot;, err)</span>
<span class="term-fg32">+	&#47;&#47; }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Remove old blocks, so that we start with a fresh genesis block</span>
<span class="term-fg32">+	currentHash := header.ParentHash</span>
<span class="term-fg32">+	for {</span>
<span class="term-fg32">+		&#47;&#47; There are no uncles in Celo</span>
<span class="term-fg32">+		num = rawdb.ReadHeaderNumber(ldb, currentHash)</span>
<span class="term-fg32">+		hash = rawdb.ReadCanonicalHash(ldb, *num)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+		log.Info(&quot;Deleting block&quot;, &quot;hash&quot;, currentHash, &quot;c&quot;, hash, &quot;number&quot;, *num)</span>
<span class="term-fg32">+		if commit {</span>
<span class="term-fg32">+			rawdb.DeleteBlock(ldb, currentHash, *num)</span>
<span class="term-fg32">+		}</span>
<span class="term-fg32">+		if *num == 0 {</span>
<span class="term-fg32">+			break</span>
<span class="term-fg32">+		}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+		header = rawdb.ReadHeader(ldb, currentHash, *num)</span>
<span class="term-fg32">+		if header == nil {</span>
<span class="term-fg32">+			return nil, fmt.Errorf(&quot;couldn&#39;t find header&quot;)</span>
<span class="term-fg32">+		}</span>
<span class="term-fg32">+		currentHash = header.ParentHash</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	log.Info(&quot;Successfully cleaned old blocks&quot;)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; We&#39;re done messing around with the database, so we can now commit the changes to the DB.</span>
<span class="term-fg32">+	&#47;&#47; Note that this doesn&#39;t actually write the changes to disk.</span>
<span class="term-fg32">+	&#47;&#47; log.Info(&quot;Committing state DB&quot;)</span>
<span class="term-fg32">+	&#47;&#47; newRoot, err := db.Commit(true)</span>
<span class="term-fg32">+	&#47;&#47; if err != nil {</span>
<span class="term-fg32">+	&#47;&#47; 	return nil, err</span>
<span class="term-fg32">+	&#47;&#47; }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	log.Info(&quot;Creating new Genesis block&quot;)</span>
<span class="term-fg32">+	&#47;&#47; Create the header for the Bedrock transition block.</span>
<span class="term-fg32">+	cel2Header := &amp;types.Header{</span>
<span class="term-fg32">+		ParentHash:  common.Hash{0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0},</span>
<span class="term-fg32">+		UncleHash:   types.EmptyUncleHash,</span>
<span class="term-fg32">+		Coinbase:    predeploys.SequencerFeeVaultAddr, &#47;&#47; TODO</span>
<span class="term-fg32">+		Root:        trieRoot,</span>
<span class="term-fg32">+		TxHash:      types.EmptyRootHash,</span>
<span class="term-fg32">+		ReceiptHash: types.EmptyRootHash,</span>
<span class="term-fg32">+		Bloom:       types.Bloom{},</span>
<span class="term-fg32">+		Difficulty:  common.Big0,</span>
<span class="term-fg32">+		Number:      common.Big0,</span>
<span class="term-fg32">+		GasLimit:    (uint64)(20_000_000),</span>
<span class="term-fg32">+		GasUsed:     0,</span>
<span class="term-fg32">+		Time:        uint64(12345),</span>
<span class="term-fg32">+		Extra:       []byte(&quot;CeL2&quot;),</span>
<span class="term-fg32">+		MixDigest:   common.Hash{},</span>
<span class="term-fg32">+		Nonce:       types.BlockNonce{},</span>
<span class="term-fg32">+		BaseFee:     big.NewInt(params.InitialBaseFee),</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Create the Bedrock transition block from the header. Note that there are no transactions,</span>
<span class="term-fg32">+	&#47;&#47; uncle blocks, or receipts in the Bedrock transition block.</span>
<span class="term-fg32">+	cel2Block := types.NewBlock(cel2Header, nil, nil, nil, trie.NewStackTrie(nil))</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; We did it!</span>
<span class="term-fg32">+	log.Info(</span>
<span class="term-fg32">+		&quot;Built Bedrock transition&quot;,</span>
<span class="term-fg32">+		&quot;hash&quot;, cel2Block.Hash(),</span>
<span class="term-fg32">+		&quot;root&quot;, cel2Block.Root(),</span>
<span class="term-fg32">+		&quot;number&quot;, cel2Block.NumberU64(),</span>
<span class="term-fg32">+		&quot;gas-used&quot;, cel2Block.GasUsed(),</span>
<span class="term-fg32">+		&quot;gas-limit&quot;, cel2Block.GasLimit(),</span>
<span class="term-fg32">+	)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	log.Info(&quot;Header&quot;, &quot;header&quot;, cel2Header)</span>
<span class="term-fg32">+	log.Info(&quot;Body&quot;, &quot;Body&quot;, cel2Block)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Create the result of the migration.</span>
<span class="term-fg32">+	res := &amp;MigrationResult{</span>
<span class="term-fg32">+		TransitionHeight:    cel2Block.NumberU64(),</span>
<span class="term-fg32">+		TransitionTimestamp: cel2Block.Time(),</span>
<span class="term-fg32">+		TransitionBlockHash: cel2Block.Hash(),</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; If we&#39;re not actually writing this to disk, then we&#39;re done.</span>
<span class="term-fg32">+	if !commit {</span>
<span class="term-fg32">+		log.Info(&quot;Dry run complete&quot;)</span>
<span class="term-fg32">+		return res, nil</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Otherwise we need to write the changes to disk. First we commit the state changes.</span>
<span class="term-fg32">+	&#47;&#47; log.Info(&quot;Committing trie DB&quot;)</span>
<span class="term-fg32">+	&#47;&#47; if err := db.Database().TrieDB().Commit(newRoot, true); err != nil {</span>
<span class="term-fg32">+	&#47;&#47; 	return nil, err</span>
<span class="term-fg32">+	&#47;&#47; }</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Next we write the Cel2 genesis block to the database.</span>
<span class="term-fg32">+	rawdb.WriteTd(ldb, cel2Block.Hash(), cel2Block.NumberU64(), cel2Block.Difficulty())</span>
<span class="term-fg32">+	rawdb.WriteBlock(ldb, cel2Block)</span>
<span class="term-fg32">+	rawdb.WriteReceipts(ldb, cel2Block.Hash(), cel2Block.NumberU64(), nil)</span>
<span class="term-fg32">+	rawdb.WriteCanonicalHash(ldb, cel2Block.Hash(), cel2Block.NumberU64())</span>
<span class="term-fg32">+	rawdb.WriteHeadBlockHash(ldb, cel2Block.Hash())</span>
<span class="term-fg32">+	rawdb.WriteHeadFastBlockHash(ldb, cel2Block.Hash())</span>
<span class="term-fg32">+	rawdb.WriteHeadHeaderHash(ldb, cel2Block.Hash())</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; TODO</span>
<span class="term-fg32">+	&#47;&#47; Make the first CeL2 block a finalized block.</span>
<span class="term-fg32">+	rawdb.WriteFinalizedBlockHash(ldb, cel2Block.Hash())</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Set the standard options.</span>
<span class="term-fg32">+	&#47;&#47; TODO: What about earlier hardforks, e.g. does berlin have to be enabled as it never was on Celo?</span>
<span class="term-fg32">+	cfg.LondonBlock = cel2Block.Number()</span>
<span class="term-fg32">+	cfg.ArrowGlacierBlock = cel2Block.Number()</span>
<span class="term-fg32">+	cfg.GrayGlacierBlock = cel2Block.Number()</span>
<span class="term-fg32">+	cfg.MergeNetsplitBlock = cel2Block.Number()</span>
<span class="term-fg32">+	cfg.TerminalTotalDifficulty = big.NewInt(0)</span>
<span class="term-fg32">+	cfg.TerminalTotalDifficultyPassed = true</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Set the Optimism options.</span>
<span class="term-fg32">+	cfg.BedrockBlock = cel2Block.Number()</span>
<span class="term-fg32">+	&#47;&#47; Enable Regolith from the start of Bedrock</span>
<span class="term-fg32">+	cfg.RegolithTime = new(uint64) &#47;&#47; what are those? do we need those?</span>
<span class="term-fg32">+	cfg.Optimism = &amp;params.OptimismConfig{</span>
<span class="term-fg32">+		EIP1559Denominator: EIP1559Denominator,</span>
<span class="term-fg32">+		EIP1559Elasticity:  EIP1559Elasticity,</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Write the chain config to disk.</span>
<span class="term-fg32">+	rawdb.WriteChainConfig(ldb, cel2Block.Hash(), cfg)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Yay!</span>
<span class="term-fg32">+	log.Info(</span>
<span class="term-fg32">+		&quot;Wrote chain config&quot;,</span>
<span class="term-fg32">+		&quot;1559-denominator&quot;, EIP1559Denominator,</span>
<span class="term-fg32">+		&quot;1559-elasticity&quot;, EIP1559Elasticity,</span>
<span class="term-fg32">+	)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; We&#39;re done!</span>
<span class="term-fg32">+	log.Info(</span>
<span class="term-fg32">+		&quot;Wrote CeL2 transition block&quot;,</span>
<span class="term-fg32">+		&quot;height&quot;, cel2Header.Number,</span>
<span class="term-fg32">+		&quot;root&quot;, cel2Header.Root.String(),</span>
<span class="term-fg32">+		&quot;hash&quot;, cel2Header.Hash().String(),</span>
<span class="term-fg32">+		&quot;timestamp&quot;, cel2Header.Time,</span>
<span class="term-fg32">+	)</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+	&#47;&#47; Return the result and have a nice day.</span>
<span class="term-fg32">+	return res, nil</span>
<span class="term-fg32">+}</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+func Open(path string, cache int, handles int) (ethdb.Database, error) {</span>
<span class="term-fg32">+	chaindataPath := filepath.Join(path, &quot;celo&quot;, &quot;chaindata&quot;)</span>
<span class="term-fg32">+	ancientPath := filepath.Join(chaindataPath, &quot;ancient&quot;)</span>
<span class="term-fg32">+	ldb, err := rawdb.Open(rawdb.OpenOptions{</span>
<span class="term-fg32">+		Type:              &quot;leveldb&quot;,</span>
<span class="term-fg32">+		Directory:         chaindataPath,</span>
<span class="term-fg32">+		AncientsDirectory: ancientPath,</span>
<span class="term-fg32">+		Namespace:         &quot;&quot;,</span>
<span class="term-fg32">+		Cache:             cache,</span>
<span class="term-fg32">+		Handles:           handles,</span>
<span class="term-fg32">+		ReadOnly:          false,</span>
<span class="term-fg32">+	})</span>
<span class="term-fg32">+	if err != nil {</span>
<span class="term-fg32">+		return nil, err</span>
<span class="term-fg32">+	}</span>
<span class="term-fg32">+	return ldb, nil</span>
<span class="term-fg32">+}</span></div>
    </div>

            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-ebae5e96b9f9d7b7c62fdaa5"role="button" aria-expanded="false" aria-controls="id-ebae5e96b9f9d7b7c62fdaa5">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-challenger</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-ebae5e96b9f9d7b7c62fdaa5">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-528bddad906ea5ad617f37c6"role="button" aria-expanded="false" aria-controls="id-528bddad906ea5ad617f37c6">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-e2e</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-528bddad906ea5ad617f37c6">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-f297d687bddadde0865e9cbf"role="button" aria-expanded="false" aria-controls="id-f297d687bddadde0865e9cbf">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-exporter</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-f297d687bddadde0865e9cbf">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-bbf81a266674f38d4671adbb"role="button" aria-expanded="false" aria-controls="id-bbf81a266674f38d4671adbb">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-heartbeat</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-bbf81a266674f38d4671adbb">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-ba2e29373735a0203868ace7"role="button" aria-expanded="false" aria-controls="id-ba2e29373735a0203868ace7">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-node</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-ba2e29373735a0203868ace7">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-ad4ed2bffbd010b47391829e"role="button" aria-expanded="false" aria-controls="id-ad4ed2bffbd010b47391829e">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-program</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-ad4ed2bffbd010b47391829e">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-41eb3a8866aded58349343e6"role="button" aria-expanded="false" aria-controls="id-41eb3a8866aded58349343e6">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-proposer</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-41eb3a8866aded58349343e6">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-576477d198c3492d3c1ec9af"role="button" aria-expanded="false" aria-controls="id-576477d198c3492d3c1ec9af">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-service</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-576477d198c3492d3c1ec9af">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-24563537f322664d83490115"role="button" aria-expanded="false" aria-controls="id-24563537f322664d83490115">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-signer</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-24563537f322664d83490115">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-d4f1be88647f56ad0b382a9a"role="button" aria-expanded="false" aria-controls="id-d4f1be88647f56ad0b382a9a">
        
            <div class="col-12 col-sm-9 text-start"><h2>op-wheel</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-d4f1be88647f56ad0b382a9a">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-44803612be6471e8ba62871a"role="button" aria-expanded="false" aria-controls="id-44803612be6471e8ba62871a">
        
            <div class="col-12 col-sm-9 text-start"><h2>ops-bedrock</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-44803612be6471e8ba62871a">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-c00e520f9245c9b7f02e8e08"role="button" aria-expanded="false" aria-controls="id-c00e520f9245c9b7f02e8e08">
        
            <div class="col-12 col-sm-9 text-start"><h2>proxyd</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-c00e520f9245c9b7f02e8e08">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-66afd25e67305a8a0166ae5b"role="button" aria-expanded="false" aria-controls="id-66afd25e67305a8a0166ae5b">
        
            <div class="col-12 col-sm-9 text-start"><h2>specs</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-66afd25e67305a8a0166ae5b">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-cd7c3c2568857ac6fb5f1154"role="button" aria-expanded="false" aria-controls="id-cd7c3c2568857ac6fb5f1154">
        
            <div class="col-12 col-sm-9 text-start"><h2>indexer</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+0</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-cd7c3c2568857ac6fb5f1154">
        <div></div>
        <div>
            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
                <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-8d5fbd6067688d1018f2a33c"role="button" aria-expanded="false" aria-controls="id-8d5fbd6067688d1018f2a33c">
        
            <div class="col-12 col-sm-9 text-start"><h2>Other changes</h2></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+708</span></div>
                <div class="text-start"><span class="text-danger">-0</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-8d5fbd6067688d1018f2a33c">
        <div></div>
        <div>
            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-9213626e1aaa58abe2425076" role="button"
                   aria-expanded="false" aria-controls="id-9213626e1aaa58abe2425076">
                    <code>.gitignore</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <a href="https://github.com/ethereum-optimism/optimism/blob/c0f0f2d5fc6f1aaa6bf05e102ec0b8bdf74356db/.gitignore" target="_blank">OP <i class="bi bi-github"></i></a>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/.gitignore" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+3</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-9213626e1aaa58abe2425076"><span class="term-fg1">diff --git OP&#47;.gitignore CELO&#47;.gitignore</span>
<span class="term-fg1">index f99b004058ed08c9f07812dd3964436440a963b9..e5a62566a680731ac12ac58a921cff6bd47df820 100644</span>
<span class="term-fg1">--- OP&#47;.gitignore</span>
<span class="term-fg1">+++ CELO&#47;.gitignore</span>
<span class="term-fg36">@@ -47,3 +47,6 @@</span> __pycache__
&nbsp;
 # Ignore echidna artifacts
 crytic-export
<span class="term-fg32">+</span>
<span class="term-fg32">+# vscode</span>
<span class="term-fg32">+.vscode&#47;</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-5228b3cc28024aa45c7982b9" role="button"
                   aria-expanded="false" aria-controls="id-5228b3cc28024aa45c7982b9">
                    <code>packages/contracts-bedrock/src/celo/common/interfaces/ICeloVersionedContract.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/common/interfaces/ICeloVersionedContract.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+13</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-5228b3cc28024aa45c7982b9"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;common&#47;interfaces&#47;ICeloVersionedContract.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;common&#47;interfaces&#47;ICeloVersionedContract.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..7a52c2e646e93d8676be3a2b09d7ea49f7f26f6e</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;common&#47;interfaces&#47;ICeloVersionedContract.sol</span>
<span class="term-fg36">@@ -0,0 +1,13 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface ICeloVersionedContract {</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Returns the storage, major, minor, and patch version of the contract.</span>
<span class="term-fg32">+    * @return Storage version of the contract.</span>
<span class="term-fg32">+    * @return Major version of the contract.</span>
<span class="term-fg32">+    * @return Minor version of the contract.</span>
<span class="term-fg32">+    * @return Patch version of the contract.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function getVersionNumber() external pure returns (uint256, uint256, uint256, uint256);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-e44962090c0929f27f4cb94b" role="button"
                   aria-expanded="false" aria-controls="id-e44962090c0929f27f4cb94b">
                    <code>packages/contracts-bedrock/src/celo/governance/interfaces/IElection.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/governance/interfaces/IElection.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+62</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-e44962090c0929f27f4cb94b"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IElection.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IElection.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..67f3a11690a1a75969640f3e5531091359a4be3c</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IElection.sol</span>
<span class="term-fg36">@@ -0,0 +1,62 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IElection {</span>
<span class="term-fg32">+  function electValidatorSigners() external view returns (address[] memory);</span>
<span class="term-fg32">+  function electNValidatorSigners(uint256, uint256) external view returns (address[] memory);</span>
<span class="term-fg32">+  function vote(address, uint256, address, address) external returns (bool);</span>
<span class="term-fg32">+  function activate(address) external returns (bool);</span>
<span class="term-fg32">+  function revokeActive(address, uint256, address, address, uint256) external returns (bool);</span>
<span class="term-fg32">+  function revokeAllActive(address, address, address, uint256) external returns (bool);</span>
<span class="term-fg32">+  function revokePending(address, uint256, address, address, uint256) external returns (bool);</span>
<span class="term-fg32">+  function markGroupIneligible(address) external;</span>
<span class="term-fg32">+  function markGroupEligible(address, address, address) external;</span>
<span class="term-fg32">+  function allowedToVoteOverMaxNumberOfGroups(address) external returns (bool);</span>
<span class="term-fg32">+  function forceDecrementVotes(</span>
<span class="term-fg32">+    address,</span>
<span class="term-fg32">+    uint256,</span>
<span class="term-fg32">+    address[] calldata,</span>
<span class="term-fg32">+    address[] calldata,</span>
<span class="term-fg32">+    uint256[] calldata</span>
<span class="term-fg32">+  ) external returns (uint256);</span>
<span class="term-fg32">+  function setAllowedToVoteOverMaxNumberOfGroups(bool flag) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; view functions</span>
<span class="term-fg32">+  function getElectableValidators() external view returns (uint256, uint256);</span>
<span class="term-fg32">+  function getElectabilityThreshold() external view returns (uint256);</span>
<span class="term-fg32">+  function getNumVotesReceivable(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getTotalVotes() external view returns (uint256);</span>
<span class="term-fg32">+  function getActiveVotes() external view returns (uint256);</span>
<span class="term-fg32">+  function getTotalVotesByAccount(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getPendingVotesForGroupByAccount(address, address) external view returns (uint256);</span>
<span class="term-fg32">+  function getActiveVotesForGroupByAccount(address, address) external view returns (uint256);</span>
<span class="term-fg32">+  function getTotalVotesForGroupByAccount(address, address) external view returns (uint256);</span>
<span class="term-fg32">+  function getActiveVoteUnitsForGroupByAccount(address, address) external view returns (uint256);</span>
<span class="term-fg32">+  function getTotalVotesForGroup(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getActiveVotesForGroup(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getPendingVotesForGroup(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getGroupEligibility(address) external view returns (bool);</span>
<span class="term-fg32">+  function getGroupEpochRewards(address, uint256, uint256[] calldata)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint256);</span>
<span class="term-fg32">+  function getGroupsVotedForByAccount(address) external view returns (address[] memory);</span>
<span class="term-fg32">+  function getEligibleValidatorGroups() external view returns (address[] memory);</span>
<span class="term-fg32">+  function getTotalVotesForEligibleValidatorGroups()</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (address[] memory, uint256[] memory);</span>
<span class="term-fg32">+  function getCurrentValidatorSigners() external view returns (address[] memory);</span>
<span class="term-fg32">+  function canReceiveVotes(address, uint256) external view returns (bool);</span>
<span class="term-fg32">+  function hasActivatablePendingVotes(address, address) external view returns (bool);</span>
<span class="term-fg32">+  function validatorSignerAddressFromCurrentSet(uint256 index) external view returns (address);</span>
<span class="term-fg32">+  function numberValidatorsInCurrentSet() external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only owner</span>
<span class="term-fg32">+  function setElectableValidators(uint256, uint256) external returns (bool);</span>
<span class="term-fg32">+  function setMaxNumGroupsVotedFor(uint256) external returns (bool);</span>
<span class="term-fg32">+  function setElectabilityThreshold(uint256) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only VM</span>
<span class="term-fg32">+  function distributeEpochRewards(address, uint256, address, address) external;</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-4106588bbaf35a07e249e4d1" role="button"
                   aria-expanded="false" aria-controls="id-4106588bbaf35a07e249e4d1">
                    <code>packages/contracts-bedrock/src/celo/governance/interfaces/IGovernance.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/governance/interfaces/IGovernance.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+22</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-4106588bbaf35a07e249e4d1"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IGovernance.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IGovernance.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..acc20bc993624efee7106a75ad05761ee9376a14</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IGovernance.sol</span>
<span class="term-fg36">@@ -0,0 +1,22 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IGovernance {</span>
<span class="term-fg32">+  function votePartially(</span>
<span class="term-fg32">+    uint256 proposalId,</span>
<span class="term-fg32">+    uint256 index,</span>
<span class="term-fg32">+    uint256 yesVotes,</span>
<span class="term-fg32">+    uint256 noVotes,</span>
<span class="term-fg32">+    uint256 abstainVotes</span>
<span class="term-fg32">+  ) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function isVoting(address) external view returns (bool);</span>
<span class="term-fg32">+  function getAmountOfGoldUsedForVoting(address account) external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getProposal(uint256 proposalId)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (address, uint256, uint256, uint256, string memory, uint256, bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getReferendumStageDuration() external view returns (uint256);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-d80a2fe55946469c2865daa7" role="button"
                   aria-expanded="false" aria-controls="id-d80a2fe55946469c2865daa7">
                    <code>packages/contracts-bedrock/src/celo/governance/interfaces/ILockedGold.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/governance/interfaces/ILockedGold.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+34</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-d80a2fe55946469c2865daa7"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;ILockedGold.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;ILockedGold.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..e8cf2f215f25df84f4cac78d2f17639d63679a2b</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;ILockedGold.sol</span>
<span class="term-fg36">@@ -0,0 +1,34 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface ILockedGold {</span>
<span class="term-fg32">+  function lock() external payable;</span>
<span class="term-fg32">+  function incrementNonvotingAccountBalance(address, uint256) external;</span>
<span class="term-fg32">+  function decrementNonvotingAccountBalance(address, uint256) external;</span>
<span class="term-fg32">+  function getAccountTotalLockedGold(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getTotalLockedGold() external view returns (uint256);</span>
<span class="term-fg32">+  function getPendingWithdrawals(address)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint256[] memory, uint256[] memory);</span>
<span class="term-fg32">+  function getPendingWithdrawal(address account, uint256 index)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint256, uint256);</span>
<span class="term-fg32">+  function getTotalPendingWithdrawals(address) external view returns (uint256);</span>
<span class="term-fg32">+  function unlock(uint256) external;</span>
<span class="term-fg32">+  function relock(uint256, uint256) external;</span>
<span class="term-fg32">+  function withdraw(uint256) external;</span>
<span class="term-fg32">+  function slash(</span>
<span class="term-fg32">+    address account,</span>
<span class="term-fg32">+    uint256 penalty,</span>
<span class="term-fg32">+    address reporter,</span>
<span class="term-fg32">+    uint256 reward,</span>
<span class="term-fg32">+    address[] calldata lessers,</span>
<span class="term-fg32">+    address[] calldata greaters,</span>
<span class="term-fg32">+    uint256[] calldata indices</span>
<span class="term-fg32">+  ) external;</span>
<span class="term-fg32">+  function isSlasher(address) external view returns (bool);</span>
<span class="term-fg32">+  function unlockingPeriod() external view returns (uint256);</span>
<span class="term-fg32">+  function getAccountNonvotingLockedGold(address account) external view returns (uint256);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-8d0d8e29cd08931faabb3d30" role="button"
                   aria-expanded="false" aria-controls="id-8d0d8e29cd08931faabb3d30">
                    <code>packages/contracts-bedrock/src/celo/governance/interfaces/IReleaseGold.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/governance/interfaces/IReleaseGold.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+59</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-8d0d8e29cd08931faabb3d30"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IReleaseGold.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IReleaseGold.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..d2b6b45f0a17010e395d70e10b23e0e0c04ae239</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IReleaseGold.sol</span>
<span class="term-fg36">@@ -0,0 +1,59 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IReleaseGold {</span>
<span class="term-fg32">+  function transfer(address, uint256) external;</span>
<span class="term-fg32">+  function unlockGold(uint256) external;</span>
<span class="term-fg32">+  function withdrawLockedGold(uint256) external;</span>
<span class="term-fg32">+  function authorizeVoteSigner(address payable, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function authorizeValidatorSigner(address payable, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function authorizeValidatorSignerWithPublicKey(</span>
<span class="term-fg32">+    address payable,</span>
<span class="term-fg32">+    uint8,</span>
<span class="term-fg32">+    bytes32,</span>
<span class="term-fg32">+    bytes32,</span>
<span class="term-fg32">+    bytes calldata</span>
<span class="term-fg32">+  ) external;</span>
<span class="term-fg32">+  function authorizeValidatorSignerWithKeys(</span>
<span class="term-fg32">+    address payable,</span>
<span class="term-fg32">+    uint8,</span>
<span class="term-fg32">+    bytes32,</span>
<span class="term-fg32">+    bytes32,</span>
<span class="term-fg32">+    bytes calldata,</span>
<span class="term-fg32">+    bytes calldata,</span>
<span class="term-fg32">+    bytes calldata</span>
<span class="term-fg32">+  ) external;</span>
<span class="term-fg32">+  function authorizeAttestationSigner(address payable, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function revokeActive(address, uint256, address, address, uint256) external;</span>
<span class="term-fg32">+  function revokePending(address, uint256, address, address, uint256) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; view functions</span>
<span class="term-fg32">+  function getTotalBalance() external view returns (uint256);</span>
<span class="term-fg32">+  function getRemainingTotalBalance() external view returns (uint256);</span>
<span class="term-fg32">+  function getRemainingUnlockedBalance() external view returns (uint256);</span>
<span class="term-fg32">+  function getRemainingLockedBalance() external view returns (uint256);</span>
<span class="term-fg32">+  function getCurrentReleasedTotalAmount() external view returns (uint256);</span>
<span class="term-fg32">+  function isRevoked() external view returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only beneficiary</span>
<span class="term-fg32">+  function setCanExpire(bool) external;</span>
<span class="term-fg32">+  function withdraw(uint256) external;</span>
<span class="term-fg32">+  function lockGold(uint256) external;</span>
<span class="term-fg32">+  function relockGold(uint256, uint256) external;</span>
<span class="term-fg32">+  function setAccount(string calldata, bytes calldata, address, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function createAccount() external;</span>
<span class="term-fg32">+  function setAccountName(string calldata) external;</span>
<span class="term-fg32">+  function setAccountWalletAddress(address, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function setAccountDataEncryptionKey(bytes calldata) external;</span>
<span class="term-fg32">+  function setAccountMetadataURL(string calldata) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only owner</span>
<span class="term-fg32">+  function setBeneficiary(address payable) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only release owner</span>
<span class="term-fg32">+  function setLiquidityProvision() external;</span>
<span class="term-fg32">+  function setMaxDistribution(uint256) external;</span>
<span class="term-fg32">+  function refundAndFinalize() external;</span>
<span class="term-fg32">+  function revoke() external;</span>
<span class="term-fg32">+  function expire() external;</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-249c2ce6b3ce202bdc398e11" role="button"
                   aria-expanded="false" aria-controls="id-249c2ce6b3ce202bdc398e11">
                    <code>packages/contracts-bedrock/src/celo/governance/interfaces/IValidators.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/governance/interfaces/IValidators.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+85</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-249c2ce6b3ce202bdc398e11"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IValidators.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IValidators.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..907dbaa1d3d9300f56c445232078c291dba73719</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;governance&#47;interfaces&#47;IValidators.sol</span>
<span class="term-fg36">@@ -0,0 +1,85 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IValidators {</span>
<span class="term-fg32">+  function registerValidator(bytes calldata, bytes calldata, bytes calldata)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    returns (bool);</span>
<span class="term-fg32">+  function deregisterValidator(uint256) external returns (bool);</span>
<span class="term-fg32">+  function affiliate(address) external returns (bool);</span>
<span class="term-fg32">+  function deaffiliate() external returns (bool);</span>
<span class="term-fg32">+  function updateBlsPublicKey(bytes calldata, bytes calldata) external returns (bool);</span>
<span class="term-fg32">+  function registerValidatorGroup(uint256) external returns (bool);</span>
<span class="term-fg32">+  function deregisterValidatorGroup(uint256) external returns (bool);</span>
<span class="term-fg32">+  function addMember(address) external returns (bool);</span>
<span class="term-fg32">+  function addFirstMember(address, address, address) external returns (bool);</span>
<span class="term-fg32">+  function removeMember(address) external returns (bool);</span>
<span class="term-fg32">+  function reorderMember(address, address, address) external returns (bool);</span>
<span class="term-fg32">+  function updateCommission() external;</span>
<span class="term-fg32">+  function setNextCommissionUpdate(uint256) external;</span>
<span class="term-fg32">+  function resetSlashingMultiplier() external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only owner</span>
<span class="term-fg32">+  function setCommissionUpdateDelay(uint256) external;</span>
<span class="term-fg32">+  function setMaxGroupSize(uint256) external returns (bool);</span>
<span class="term-fg32">+  function setMembershipHistoryLength(uint256) external returns (bool);</span>
<span class="term-fg32">+  function setValidatorScoreParameters(uint256, uint256) external returns (bool);</span>
<span class="term-fg32">+  function setGroupLockedGoldRequirements(uint256, uint256) external returns (bool);</span>
<span class="term-fg32">+  function setValidatorLockedGoldRequirements(uint256, uint256) external returns (bool);</span>
<span class="term-fg32">+  function setSlashingMultiplierResetPeriod(uint256) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; view functions</span>
<span class="term-fg32">+  function getMaxGroupSize() external view returns (uint256);</span>
<span class="term-fg32">+  function getCommissionUpdateDelay() external view returns (uint256);</span>
<span class="term-fg32">+  function getValidatorScoreParameters() external view returns (uint256, uint256);</span>
<span class="term-fg32">+  function getMembershipHistory(address)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint256[] memory, address[] memory, uint256, uint256);</span>
<span class="term-fg32">+  function calculateEpochScore(uint256) external view returns (uint256);</span>
<span class="term-fg32">+  function calculateGroupEpochScore(uint256[] calldata) external view returns (uint256);</span>
<span class="term-fg32">+  function getAccountLockedGoldRequirement(address) external view returns (uint256);</span>
<span class="term-fg32">+  function meetsAccountLockedGoldRequirements(address) external view returns (bool);</span>
<span class="term-fg32">+  function getValidatorBlsPublicKeyFromSigner(address) external view returns (bytes memory);</span>
<span class="term-fg32">+  function getValidator(address account)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (bytes memory, bytes memory, address, uint256, address);</span>
<span class="term-fg32">+  function getValidatorGroup(address)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (address[] memory, uint256, uint256, uint256, uint256[] memory, uint256, uint256);</span>
<span class="term-fg32">+  function getGroupNumMembers(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getTopGroupValidators(address, uint256) external view returns (address[] memory);</span>
<span class="term-fg32">+  function getGroupsNumMembers(address[] calldata accounts)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint256[] memory);</span>
<span class="term-fg32">+  function getNumRegisteredValidators() external view returns (uint256);</span>
<span class="term-fg32">+  function groupMembershipInEpoch(address, uint256, uint256) external view returns (address);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only registered contract</span>
<span class="term-fg32">+  function updateEcdsaPublicKey(address, address, bytes calldata) external returns (bool);</span>
<span class="term-fg32">+  function updatePublicKeys(address, address, bytes calldata, bytes calldata, bytes calldata)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    returns (bool);</span>
<span class="term-fg32">+  function getValidatorLockedGoldRequirements() external view returns (uint256, uint256);</span>
<span class="term-fg32">+  function getGroupLockedGoldRequirements() external view returns (uint256, uint256);</span>
<span class="term-fg32">+  function getRegisteredValidators() external view returns (address[] memory);</span>
<span class="term-fg32">+  function getRegisteredValidatorSigners() external view returns (address[] memory);</span>
<span class="term-fg32">+  function getRegisteredValidatorGroups() external view returns (address[] memory);</span>
<span class="term-fg32">+  function isValidatorGroup(address) external view returns (bool);</span>
<span class="term-fg32">+  function isValidator(address) external view returns (bool);</span>
<span class="term-fg32">+  function getValidatorGroupSlashingMultiplier(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getMembershipInLastEpoch(address) external view returns (address);</span>
<span class="term-fg32">+  function getMembershipInLastEpochFromSigner(address) external view returns (address);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only VM</span>
<span class="term-fg32">+  function updateValidatorScoreFromSigner(address, uint256) external;</span>
<span class="term-fg32">+  function distributeEpochPaymentsFromSigner(address, uint256) external returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only slasher</span>
<span class="term-fg32">+  function forceDeaffiliateIfValidator(address) external;</span>
<span class="term-fg32">+  function halveSlashingMultiplier(address) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-0e1ac9db82359ea00f6b8be4" role="button"
                   aria-expanded="false" aria-controls="id-0e1ac9db82359ea00f6b8be4">
                    <code>packages/contracts-bedrock/src/celo/identity/interfaces/IAttestations.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/identity/interfaces/IAttestations.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+38</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-0e1ac9db82359ea00f6b8be4"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IAttestations.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IAttestations.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..195e8de3f9b71cfc7f52363913c7868949797cf2</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IAttestations.sol</span>
<span class="term-fg36">@@ -0,0 +1,38 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IAttestations {</span>
<span class="term-fg32">+  function revoke(bytes32, uint256) external;</span>
<span class="term-fg32">+  function withdraw(address) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; view functions</span>
<span class="term-fg32">+  function getUnselectedRequest(bytes32, address) external view returns (uint32, uint32, address);</span>
<span class="term-fg32">+  function getAttestationIssuers(bytes32, address) external view returns (address[] memory);</span>
<span class="term-fg32">+  function getAttestationStats(bytes32, address) external view returns (uint32, uint32);</span>
<span class="term-fg32">+  function batchGetAttestationStats(bytes32[] calldata)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint256[] memory, address[] memory, uint64[] memory, uint64[] memory);</span>
<span class="term-fg32">+  function getAttestationState(bytes32, address, address)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint8, uint32, address);</span>
<span class="term-fg32">+  function getCompletableAttestations(bytes32, address)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint32[] memory, address[] memory, uint256[] memory, bytes memory);</span>
<span class="term-fg32">+  function getAttestationRequestFee(address) external view returns (uint256);</span>
<span class="term-fg32">+  function getMaxAttestations() external view returns (uint256);</span>
<span class="term-fg32">+  function validateAttestationCode(bytes32, address, uint8, bytes32, bytes32)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (address);</span>
<span class="term-fg32">+  function lookupAccountsForIdentifier(bytes32) external view returns (address[] memory);</span>
<span class="term-fg32">+  function requireNAttestationsRequested(bytes32, address, uint32) external view;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; only owner</span>
<span class="term-fg32">+  function setAttestationRequestFee(address, uint256) external;</span>
<span class="term-fg32">+  function setAttestationExpiryBlocks(uint256) external;</span>
<span class="term-fg32">+  function setSelectIssuersWaitBlocks(uint256) external;</span>
<span class="term-fg32">+  function setMaxAttestations(uint256) external;</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-444fe5c2d22eb821feb39429" role="button"
                   aria-expanded="false" aria-controls="id-444fe5c2d22eb821feb39429">
                    <code>packages/contracts-bedrock/src/celo/identity/interfaces/IEscrow.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/identity/interfaces/IEscrow.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+34</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-444fe5c2d22eb821feb39429"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IEscrow.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IEscrow.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..965a31d63dc5dc18c5074e8d367d2767a99e3d54</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IEscrow.sol</span>
<span class="term-fg36">@@ -0,0 +1,34 @@</span>
<span class="term-fg32">+pragma solidity ^0.5.13;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IEscrow {</span>
<span class="term-fg32">+  function transfer(</span>
<span class="term-fg32">+    bytes32 identifier,</span>
<span class="term-fg32">+    address token,</span>
<span class="term-fg32">+    uint256 value,</span>
<span class="term-fg32">+    uint256 expirySeconds,</span>
<span class="term-fg32">+    address paymentId,</span>
<span class="term-fg32">+    uint256 minAttestations</span>
<span class="term-fg32">+  ) external returns (bool);</span>
<span class="term-fg32">+  function transferWithTrustedIssuers(</span>
<span class="term-fg32">+    bytes32 identifier,</span>
<span class="term-fg32">+    address token,</span>
<span class="term-fg32">+    uint256 value,</span>
<span class="term-fg32">+    uint256 expirySeconds,</span>
<span class="term-fg32">+    address paymentId,</span>
<span class="term-fg32">+    uint256 minAttestations,</span>
<span class="term-fg32">+    address[] calldata trustedIssuers</span>
<span class="term-fg32">+  ) external returns (bool);</span>
<span class="term-fg32">+  function withdraw(address paymentID, uint8 v, bytes32 r, bytes32 s) external returns (bool);</span>
<span class="term-fg32">+  function revoke(address paymentID) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; view functions</span>
<span class="term-fg32">+  function getReceivedPaymentIds(bytes32 identifier) external view returns (address[] memory);</span>
<span class="term-fg32">+  function getSentPaymentIds(address sender) external view returns (address[] memory);</span>
<span class="term-fg32">+  function getTrustedIssuersPerPayment(address paymentId) external view returns (address[] memory);</span>
<span class="term-fg32">+  function getDefaultTrustedIssuers() external view returns (address[] memory);</span>
<span class="term-fg32">+  function MAX_TRUSTED_ISSUERS_PER_PAYMENT() external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; onlyOwner functions</span>
<span class="term-fg32">+  function addDefaultTrustedIssuer(address trustedIssuer) external;</span>
<span class="term-fg32">+  function removeDefaultTrustedIssuer(address trustedIssuer, uint256 index) external;</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-99c788de198b8ef0717be04b" role="button"
                   aria-expanded="false" aria-controls="id-99c788de198b8ef0717be04b">
                    <code>packages/contracts-bedrock/src/celo/identity/interfaces/IFederatedAttestations.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/identity/interfaces/IFederatedAttestations.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+55</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-99c788de198b8ef0717be04b"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IFederatedAttestations.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IFederatedAttestations.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..03a64597028212624165b5e2f6b937d118ab0588</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IFederatedAttestations.sol</span>
<span class="term-fg36">@@ -0,0 +1,55 @@</span>
<span class="term-fg32">+pragma solidity ^0.5.13;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IFederatedAttestations {</span>
<span class="term-fg32">+  function registerAttestationAsIssuer(bytes32 identifier, address account, uint64 issuedOn)</span>
<span class="term-fg32">+    external;</span>
<span class="term-fg32">+  function registerAttestation(</span>
<span class="term-fg32">+    bytes32 identifier,</span>
<span class="term-fg32">+    address issuer,</span>
<span class="term-fg32">+    address account,</span>
<span class="term-fg32">+    address signer,</span>
<span class="term-fg32">+    uint64 issuedOn,</span>
<span class="term-fg32">+    uint8 v,</span>
<span class="term-fg32">+    bytes32 r,</span>
<span class="term-fg32">+    bytes32 s</span>
<span class="term-fg32">+  ) external;</span>
<span class="term-fg32">+  function revokeAttestation(bytes32 identifier, address issuer, address account) external;</span>
<span class="term-fg32">+  function batchRevokeAttestations(</span>
<span class="term-fg32">+    address issuer,</span>
<span class="term-fg32">+    bytes32[] calldata identifiers,</span>
<span class="term-fg32">+    address[] calldata accounts</span>
<span class="term-fg32">+  ) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; view functions</span>
<span class="term-fg32">+  function lookupAttestations(bytes32 identifier, address[] calldata trustedIssuers)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (</span>
<span class="term-fg32">+      uint256[] memory,</span>
<span class="term-fg32">+      address[] memory,</span>
<span class="term-fg32">+      address[] memory,</span>
<span class="term-fg32">+      uint64[] memory,</span>
<span class="term-fg32">+      uint64[] memory</span>
<span class="term-fg32">+    );</span>
<span class="term-fg32">+  function lookupIdentifiers(address account, address[] calldata trustedIssuers)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint256[] memory, bytes32[] memory);</span>
<span class="term-fg32">+  function validateAttestationSig(</span>
<span class="term-fg32">+    bytes32 identifier,</span>
<span class="term-fg32">+    address issuer,</span>
<span class="term-fg32">+    address account,</span>
<span class="term-fg32">+    address signer,</span>
<span class="term-fg32">+    uint64 issuedOn,</span>
<span class="term-fg32">+    uint8 v,</span>
<span class="term-fg32">+    bytes32 r,</span>
<span class="term-fg32">+    bytes32 s</span>
<span class="term-fg32">+  ) external view;</span>
<span class="term-fg32">+  function getUniqueAttestationHash(</span>
<span class="term-fg32">+    bytes32 identifier,</span>
<span class="term-fg32">+    address issuer,</span>
<span class="term-fg32">+    address account,</span>
<span class="term-fg32">+    address signer,</span>
<span class="term-fg32">+    uint64 issuedOn</span>
<span class="term-fg32">+  ) external pure returns (bytes32);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-058c6e33e799f40363fe43ea" role="button"
                   aria-expanded="false" aria-controls="id-058c6e33e799f40363fe43ea">
                    <code>packages/contracts-bedrock/src/celo/identity/interfaces/IOdisPayments.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/identity/interfaces/IOdisPayments.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+6</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-058c6e33e799f40363fe43ea"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IOdisPayments.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IOdisPayments.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..98b00d2fceb210d7e8305b65dbab21c3ec368d5e</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IOdisPayments.sol</span>
<span class="term-fg36">@@ -0,0 +1,6 @@</span>
<span class="term-fg32">+pragma solidity ^0.5.13;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IOdisPayments {</span>
<span class="term-fg32">+  function payInCUSD(address account, uint256 value) external;</span>
<span class="term-fg32">+  function totalPaidCUSD(address) external view returns (uint256);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-624d9d1620cd09c9ba1e4b8e" role="button"
                   aria-expanded="false" aria-controls="id-624d9d1620cd09c9ba1e4b8e">
                    <code>packages/contracts-bedrock/src/celo/identity/interfaces/IRandom.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/identity/interfaces/IRandom.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+9</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-624d9d1620cd09c9ba1e4b8e"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IRandom.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IRandom.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..c2eb8851e41c9438f19a749234256cb9dadad7bc</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;identity&#47;interfaces&#47;IRandom.sol</span>
<span class="term-fg36">@@ -0,0 +1,9 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IRandom {</span>
<span class="term-fg32">+  function revealAndCommit(bytes32, bytes32, address) external;</span>
<span class="term-fg32">+  function randomnessBlockRetentionWindow() external view returns (uint256);</span>
<span class="term-fg32">+  function random() external view returns (bytes32);</span>
<span class="term-fg32">+  function getBlockRandomness(uint256) external view returns (bytes32);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-f4e9fb4137b768ec78594647" role="button"
                   aria-expanded="false" aria-controls="id-f4e9fb4137b768ec78594647">
                    <code>packages/contracts-bedrock/src/celo/interfaces/IAccounts.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/IAccounts.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+51</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-f4e9fb4137b768ec78594647"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IAccounts.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IAccounts.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..868ce18b66aa2a0bb5a369dda1afd621e5241933</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IAccounts.sol</span>
<span class="term-fg36">@@ -0,0 +1,51 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IAccounts {</span>
<span class="term-fg32">+  function isAccount(address) external view returns (bool);</span>
<span class="term-fg32">+  function voteSignerToAccount(address) external view returns (address);</span>
<span class="term-fg32">+  function validatorSignerToAccount(address) external view returns (address);</span>
<span class="term-fg32">+  function attestationSignerToAccount(address) external view returns (address);</span>
<span class="term-fg32">+  function signerToAccount(address) external view returns (address);</span>
<span class="term-fg32">+  function getAttestationSigner(address) external view returns (address);</span>
<span class="term-fg32">+  function getValidatorSigner(address) external view returns (address);</span>
<span class="term-fg32">+  function getVoteSigner(address) external view returns (address);</span>
<span class="term-fg32">+  function hasAuthorizedVoteSigner(address) external view returns (bool);</span>
<span class="term-fg32">+  function hasAuthorizedValidatorSigner(address) external view returns (bool);</span>
<span class="term-fg32">+  function hasAuthorizedAttestationSigner(address) external view returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function setAccountDataEncryptionKey(bytes calldata) external;</span>
<span class="term-fg32">+  function setMetadataURL(string calldata) external;</span>
<span class="term-fg32">+  function setName(string calldata) external;</span>
<span class="term-fg32">+  function setWalletAddress(address, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function setAccount(string calldata, bytes calldata, address, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getDataEncryptionKey(address) external view returns (bytes memory);</span>
<span class="term-fg32">+  function getWalletAddress(address) external view returns (address);</span>
<span class="term-fg32">+  function getMetadataURL(address) external view returns (string memory);</span>
<span class="term-fg32">+  function batchGetMetadataURL(address[] calldata)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (uint256[] memory, bytes memory);</span>
<span class="term-fg32">+  function getName(address) external view returns (string memory);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function authorizeVoteSigner(address, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function authorizeValidatorSigner(address, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function authorizeValidatorSignerWithPublicKey(address, uint8, bytes32, bytes32, bytes calldata)</span>
<span class="term-fg32">+    external;</span>
<span class="term-fg32">+  function authorizeValidatorSignerWithKeys(</span>
<span class="term-fg32">+    address,</span>
<span class="term-fg32">+    uint8,</span>
<span class="term-fg32">+    bytes32,</span>
<span class="term-fg32">+    bytes32,</span>
<span class="term-fg32">+    bytes calldata,</span>
<span class="term-fg32">+    bytes calldata,</span>
<span class="term-fg32">+    bytes calldata</span>
<span class="term-fg32">+  ) external;</span>
<span class="term-fg32">+  function authorizeAttestationSigner(address, uint8, bytes32, bytes32) external;</span>
<span class="term-fg32">+  function createAccount() external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function setPaymentDelegation(address, uint256) external;</span>
<span class="term-fg32">+  function getPaymentDelegation(address) external view returns (address, uint256);</span>
<span class="term-fg32">+  function isSigner(address, address, bytes32) external view returns (bool);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-be0e51e7065c91a25ee65694" role="button"
                   aria-expanded="false" aria-controls="id-be0e51e7065c91a25ee65694">
                    <code>packages/contracts-bedrock/src/celo/interfaces/ICeloToken copy.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/ICeloToken copy.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+14</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-be0e51e7065c91a25ee65694"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloToken copy.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloToken copy.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..7ebfbf2af08091039b642481a8a1d05f3e9eb97b</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloToken copy.sol</span>
<span class="term-fg36">@@ -0,0 +1,14 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+&#47;**</span>
<span class="term-fg32">+ * @title This interface describes the non- ERC20 shared interface for all Celo Tokens, and</span>
<span class="term-fg32">+ * in the absence of interface inheritance is intended as a companion to IERC20.sol.</span>
<span class="term-fg32">+ *&#47;</span>
<span class="term-fg32">+interface ICeloToken {</span>
<span class="term-fg32">+  function transferWithComment(address, uint256, string calldata) external returns (bool);</span>
<span class="term-fg32">+  function name() external view returns (string memory);</span>
<span class="term-fg32">+  function symbol() external view returns (string memory);</span>
<span class="term-fg32">+  function decimals() external view returns (uint8);</span>
<span class="term-fg32">+  function burn(uint256 value) external returns (bool);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-8bddf497e0bbaab7e4628b67" role="button"
                   aria-expanded="false" aria-controls="id-8bddf497e0bbaab7e4628b67">
                    <code>packages/contracts-bedrock/src/celo/interfaces/ICeloToken.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/ICeloToken.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+14</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-8bddf497e0bbaab7e4628b67"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloToken.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloToken.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..7ebfbf2af08091039b642481a8a1d05f3e9eb97b</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloToken.sol</span>
<span class="term-fg36">@@ -0,0 +1,14 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+&#47;**</span>
<span class="term-fg32">+ * @title This interface describes the non- ERC20 shared interface for all Celo Tokens, and</span>
<span class="term-fg32">+ * in the absence of interface inheritance is intended as a companion to IERC20.sol.</span>
<span class="term-fg32">+ *&#47;</span>
<span class="term-fg32">+interface ICeloToken {</span>
<span class="term-fg32">+  function transferWithComment(address, uint256, string calldata) external returns (bool);</span>
<span class="term-fg32">+  function name() external view returns (string memory);</span>
<span class="term-fg32">+  function symbol() external view returns (string memory);</span>
<span class="term-fg32">+  function decimals() external view returns (uint8);</span>
<span class="term-fg32">+  function burn(uint256 value) external returns (bool);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-73bbbce2a6b2247fa42a3b80" role="button"
                   aria-expanded="false" aria-controls="id-73bbbce2a6b2247fa42a3b80">
                    <code>packages/contracts-bedrock/src/celo/interfaces/ICeloVersionedContract.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/ICeloVersionedContract.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+13</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-73bbbce2a6b2247fa42a3b80"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloVersionedContract.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloVersionedContract.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..7a52c2e646e93d8676be3a2b09d7ea49f7f26f6e</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;ICeloVersionedContract.sol</span>
<span class="term-fg36">@@ -0,0 +1,13 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface ICeloVersionedContract {</span>
<span class="term-fg32">+  &#47;**</span>
<span class="term-fg32">+   * @notice Returns the storage, major, minor, and patch version of the contract.</span>
<span class="term-fg32">+    * @return Storage version of the contract.</span>
<span class="term-fg32">+    * @return Major version of the contract.</span>
<span class="term-fg32">+    * @return Minor version of the contract.</span>
<span class="term-fg32">+    * @return Patch version of the contract.</span>
<span class="term-fg32">+   *&#47;</span>
<span class="term-fg32">+  function getVersionNumber() external pure returns (uint256, uint256, uint256, uint256);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-4148b40cf5c8b519c19140dd" role="button"
                   aria-expanded="false" aria-controls="id-4148b40cf5c8b519c19140dd">
                    <code>packages/contracts-bedrock/src/celo/interfaces/IFeeCurrencyWhitelist.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/IFeeCurrencyWhitelist.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+7</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-4148b40cf5c8b519c19140dd"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IFeeCurrencyWhitelist.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IFeeCurrencyWhitelist.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..d6d98b0d6031069c768d6b10324391d837f62dd9</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IFeeCurrencyWhitelist.sol</span>
<span class="term-fg36">@@ -0,0 +1,7 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IFeeCurrencyWhitelist {</span>
<span class="term-fg32">+  function addToken(address) external;</span>
<span class="term-fg32">+  function getWhitelist() external view returns (address[] memory);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-7668c329db1fbdca2e6055b7" role="button"
                   aria-expanded="false" aria-controls="id-7668c329db1fbdca2e6055b7">
                    <code>packages/contracts-bedrock/src/celo/interfaces/IFreezer.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/IFreezer.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+6</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-7668c329db1fbdca2e6055b7"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IFreezer.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IFreezer.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..e2c3696712ae3be77f655d50cd96745803b27f6f</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IFreezer.sol</span>
<span class="term-fg36">@@ -0,0 +1,6 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IFreezer {</span>
<span class="term-fg32">+  function isFrozen(address) external view returns (bool);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-1090e78060702e1d2ba40153" role="button"
                   aria-expanded="false" aria-controls="id-1090e78060702e1d2ba40153">
                    <code>packages/contracts-bedrock/src/celo/interfaces/IMetaTransactionWallet.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/IMetaTransactionWallet.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+34</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-1090e78060702e1d2ba40153"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IMetaTransactionWallet.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IMetaTransactionWallet.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..2b47c321062d4250108862c972e8eea924a9aadf</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IMetaTransactionWallet.sol</span>
<span class="term-fg36">@@ -0,0 +1,34 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IMetaTransactionWallet {</span>
<span class="term-fg32">+  function setEip712DomainSeparator() external;</span>
<span class="term-fg32">+  function executeMetaTransaction(address, uint256, bytes calldata, uint8, bytes32, bytes32)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    returns (bytes memory);</span>
<span class="term-fg32">+  function executeTransaction(address, uint256, bytes calldata) external returns (bytes memory);</span>
<span class="term-fg32">+  function executeTransactions(</span>
<span class="term-fg32">+    address[] calldata,</span>
<span class="term-fg32">+    uint256[] calldata,</span>
<span class="term-fg32">+    bytes calldata,</span>
<span class="term-fg32">+    uint256[] calldata</span>
<span class="term-fg32">+  ) external returns (bytes memory, uint256[] memory);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; view functions</span>
<span class="term-fg32">+  function getMetaTransactionDigest(address, uint256, bytes calldata, uint256)</span>
<span class="term-fg32">+    external</span>
<span class="term-fg32">+    view</span>
<span class="term-fg32">+    returns (bytes32);</span>
<span class="term-fg32">+  function getMetaTransactionSigner(</span>
<span class="term-fg32">+    address,</span>
<span class="term-fg32">+    uint256,</span>
<span class="term-fg32">+    bytes calldata,</span>
<span class="term-fg32">+    uint256,</span>
<span class="term-fg32">+    uint8,</span>
<span class="term-fg32">+    bytes32,</span>
<span class="term-fg32">+    bytes32</span>
<span class="term-fg32">+  ) external view returns (address);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47;only owner</span>
<span class="term-fg32">+  function setSigner(address) external;</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-82bb7697009db9e3e8c14773" role="button"
                   aria-expanded="false" aria-controls="id-82bb7697009db9e3e8c14773">
                    <code>packages/contracts-bedrock/src/celo/interfaces/IMetaTransactionWalletDeployer.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/IMetaTransactionWalletDeployer.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+6</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-82bb7697009db9e3e8c14773"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IMetaTransactionWalletDeployer.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IMetaTransactionWalletDeployer.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..f7c111741feccf1060d09f2001e6b6da3c238d5a</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IMetaTransactionWalletDeployer.sol</span>
<span class="term-fg36">@@ -0,0 +1,6 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IMetaTransactionWalletDeployer {</span>
<span class="term-fg32">+  function deploy(address, address, bytes calldata) external;</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-4e00acd05de2c4c3929ae9e7" role="button"
                   aria-expanded="false" aria-controls="id-4e00acd05de2c4c3929ae9e7">
                    <code>packages/contracts-bedrock/src/celo/interfaces/IRegistry.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/IRegistry.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+11</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-4e00acd05de2c4c3929ae9e7"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IRegistry.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IRegistry.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..ce3cbd34f0803949476cd50a2b2fe3f4779591cc</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IRegistry.sol</span>
<span class="term-fg36">@@ -0,0 +1,11 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IRegistry {</span>
<span class="term-fg32">+  function setAddressFor(string calldata, address) external;</span>
<span class="term-fg32">+  function getAddressForOrDie(bytes32) external view returns (address);</span>
<span class="term-fg32">+  function getAddressFor(bytes32) external view returns (address);</span>
<span class="term-fg32">+  function getAddressForStringOrDie(string calldata identifier) external view returns (address);</span>
<span class="term-fg32">+  function getAddressForString(string calldata identifier) external view returns (address);</span>
<span class="term-fg32">+  function isOneOf(bytes32[] calldata, address) external view returns (bool);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-ce12dbceaed905c4836555ca" role="button"
                   aria-expanded="false" aria-controls="id-ce12dbceaed905c4836555ca">
                    <code>packages/contracts-bedrock/src/celo/interfaces/IStableTokenMento.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/interfaces/IStableTokenMento.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+26</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-ce12dbceaed905c4836555ca"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IStableTokenMento.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IStableTokenMento.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..9bdd6e2b400f3dab4fc62c5df026c64845e5c88c</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;interfaces&#47;IStableTokenMento.sol</span>
<span class="term-fg36">@@ -0,0 +1,26 @@</span>
<span class="term-fg32">+pragma solidity ^0.5.13;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+&#47;**</span>
<span class="term-fg32">+ * @title This interface describes the functions specific to Celo Stable Tokens, and in the</span>
<span class="term-fg32">+ * absence of interface inheritance is intended as a companion to IERC20.sol and ICeloToken.sol.</span>
<span class="term-fg32">+ *&#47;</span>
<span class="term-fg32">+interface IStableTokenMento {</span>
<span class="term-fg32">+  function mint(address, uint256) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function burn(uint256) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function setInflationParameters(uint256, uint256) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function valueToUnits(uint256) external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function unitsToValue(uint256) external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getInflationParameters() external view returns (uint256, uint256, uint256, uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  &#47;&#47; NOTE: duplicated with IERC20.sol, remove once interface inheritance is supported.</span>
<span class="term-fg32">+  function balanceOf(address) external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function getExchangeRegistryId() external view returns (bytes32);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  function approve(address spender, uint256 value) external returns (bool);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-f5a92da2f47a387898397abd" role="button"
                   aria-expanded="false" aria-controls="id-f5a92da2f47a387898397abd">
                    <code>packages/contracts-bedrock/src/celo/mento/interfaces/IExchange.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/mento/interfaces/IExchange.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+30</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-f5a92da2f47a387898397abd"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IExchange.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IExchange.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..26af9526b0cd9185fa45ec507b77b15db7aad4a8</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IExchange.sol</span>
<span class="term-fg36">@@ -0,0 +1,30 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IExchange {</span>
<span class="term-fg32">+    function buy(</span>
<span class="term-fg32">+        uint256,</span>
<span class="term-fg32">+        uint256,</span>
<span class="term-fg32">+        bool</span>
<span class="term-fg32">+    ) external returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function sell(</span>
<span class="term-fg32">+        uint256,</span>
<span class="term-fg32">+        uint256,</span>
<span class="term-fg32">+        bool</span>
<span class="term-fg32">+    ) external returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function exchange(</span>
<span class="term-fg32">+        uint256,</span>
<span class="term-fg32">+        uint256,</span>
<span class="term-fg32">+        bool</span>
<span class="term-fg32">+    ) external returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function setUpdateFrequency(uint256) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getBuyTokenAmount(uint256, bool) external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getSellTokenAmount(uint256, bool) external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getBuyAndSellBuckets(bool) external view returns (uint256, uint256);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-ff789e2d96e4de1fd97946ac" role="button"
                   aria-expanded="false" aria-controls="id-ff789e2d96e4de1fd97946ac">
                    <code>packages/contracts-bedrock/src/celo/mento/interfaces/IReserve.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/mento/interfaces/IReserve.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+32</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-ff789e2d96e4de1fd97946ac"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IReserve.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IReserve.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..31f39fad5de51e37ee04a1c7cf14606c5d745b19</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IReserve.sol</span>
<span class="term-fg36">@@ -0,0 +1,32 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface IReserve {</span>
<span class="term-fg32">+    function setTobinTaxStalenessThreshold(uint256) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function addToken(address) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function removeToken(address, uint256) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function transferGold(address payable, uint256) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function transferExchangeGold(address payable, uint256) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getReserveGoldBalance() external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getUnfrozenReserveGoldBalance() external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getOrComputeTobinTax() external returns (uint256, uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getTokens() external view returns (address[] memory);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getReserveRatio() external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function addExchangeSpender(address) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function removeExchangeSpender(address, uint256) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function addSpender(address) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function removeSpender(address) external;</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-00739430d35920ee5c7b33fc" role="button"
                   aria-expanded="false" aria-controls="id-00739430d35920ee5c7b33fc">
                    <code>packages/contracts-bedrock/src/celo/mento/interfaces/IStableToken.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/mento/interfaces/IStableToken.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+31</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-00739430d35920ee5c7b33fc"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IStableToken.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IStableToken.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..99f5a79e74b4720dffed6f58a6220caf4c4893ef</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;mento&#47;interfaces&#47;IStableToken.sol</span>
<span class="term-fg36">@@ -0,0 +1,31 @@</span>
<span class="term-fg32">+&#47;&#47; SPDX-License-Identifier: LGPL-3.0-only</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+&#47;**</span>
<span class="term-fg32">+ * @title This interface describes the functions specific to Celo Stable Tokens, and in the</span>
<span class="term-fg32">+ * absence of interface inheritance is intended as a companion to IERC20.sol and ICeloToken.sol.</span>
<span class="term-fg32">+ *&#47;</span>
<span class="term-fg32">+interface IStableToken {</span>
<span class="term-fg32">+    function mint(address, uint256) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function burn(uint256) external returns (bool);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function setInflationParameters(uint256, uint256) external;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function valueToUnits(uint256) external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function unitsToValue(uint256) external view returns (uint256);</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    function getInflationParameters()</span>
<span class="term-fg32">+        external</span>
<span class="term-fg32">+        view</span>
<span class="term-fg32">+        returns (</span>
<span class="term-fg32">+            uint256,</span>
<span class="term-fg32">+            uint256,</span>
<span class="term-fg32">+            uint256,</span>
<span class="term-fg32">+            uint256</span>
<span class="term-fg32">+        );</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    &#47;&#47; NOTE: duplicated with IERC20.sol, remove once interface inheritance is supported.</span>
<span class="term-fg32">+    function balanceOf(address) external view returns (uint256);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-a2ff97bea171d69f7ff19de0" role="button"
                   aria-expanded="false" aria-controls="id-a2ff97bea171d69f7ff19de0">
                    <code>packages/contracts-bedrock/src/celo/stability/interfaces/ISortedOracles.sol</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/packages/contracts-bedrock/src/celo/stability/interfaces/ISortedOracles.sol" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+13</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-a2ff97bea171d69f7ff19de0"><span class="term-fg1">diff --git OP&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;stability&#47;interfaces&#47;ISortedOracles.sol CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;stability&#47;interfaces&#47;ISortedOracles.sol</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..ad97e10846404eb4aa404cd8a39071851c93f4ff</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;packages&#47;contracts-bedrock&#47;src&#47;celo&#47;stability&#47;interfaces&#47;ISortedOracles.sol</span>
<span class="term-fg36">@@ -0,0 +1,13 @@</span>
<span class="term-fg32">+pragma solidity &gt;=0.5.13 &lt;0.9.0;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+interface ISortedOracles {</span>
<span class="term-fg32">+  function addOracle(address, address) external;</span>
<span class="term-fg32">+  function removeOracle(address, address, uint256) external;</span>
<span class="term-fg32">+  function report(address, uint256, address, address) external;</span>
<span class="term-fg32">+  function removeExpiredReports(address, uint256) external;</span>
<span class="term-fg32">+  function isOldestReportExpired(address token) external view returns (bool, address);</span>
<span class="term-fg32">+  function numRates(address) external view returns (uint256);</span>
<span class="term-fg32">+  function medianRate(address) external view returns (uint256, uint256);</span>
<span class="term-fg32">+  function numTimestamps(address) external view returns (uint256);</span>
<span class="term-fg32">+  function medianTimestamp(address) external view returns (uint256);</span>
<span class="term-fg32">+}</span></div>
    </div>

            
        </div>
        <div>
            
        </div>
    </div>
</div>

            
        </div>
    </div>
</div>

                
                    <div class="text-muted">
                        <div class="ps-1 py-2 my-1"><div class="row border-bottom border-1"data-bs-toggle="collapse" data-bs-target="#id-c6e3cf19b0b6a0d9c58ad03b"role="button" aria-expanded="false" aria-controls="id-c6e3cf19b0b6a0d9c58ad03b">
        
            <div class="col-12 col-sm-9 text-start"><h4>Ignored changes</h4></div>
        
        <div class="col-12 col-sm-3 ms-auto mt-2">
            <div class="row line-stat">
                <div class="text-end"><span class="text-success">+181</span></div>
                <div class="text-start"><span class="text-danger">-540</span></div>
            </div>
        </div>
    </div>

    <div class="row forkdef-content collapse  border-1 ps-3 my-3" id="id-c6e3cf19b0b6a0d9c58ad03b">
        <div></div>
        <div>
            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-9aa4cffebb77bf0b8461e101" role="button"
                   aria-expanded="false" aria-controls="id-9aa4cffebb77bf0b8461e101">
                    <code>.circleci/config.yml</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <a href="https://github.com/ethereum-optimism/optimism/blob/c0f0f2d5fc6f1aaa6bf05e102ec0b8bdf74356db/.circleci/config.yml" target="_blank">OP <i class="bi bi-github"></i></a>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/.circleci/config.yml" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+3</span></div>
                        <div class="text-start"><span class="text-danger">-540</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-9aa4cffebb77bf0b8461e101"><span class="term-fg1">diff --git OP&#47;.circleci&#47;config.yml CELO&#47;.circleci&#47;config.yml</span>
<span class="term-fg1">index 95a5c4f83ce5799d319efa03e06fe8ba26bf7dc4..9a0bea1f61fdf4d2a71a6fc50872b58a84232697 100644</span>
<span class="term-fg1">--- OP&#47;.circleci&#47;config.yml</span>
<span class="term-fg1">+++ CELO&#47;.circleci&#47;config.yml</span>
<span class="term-fg36">@@ -2,49 +2,8 @@</span> version: 2.1
&nbsp;
 orbs:
   go: circleci&#47;go@1.5.0
<span class="term-fg31">-  gcp-cli: circleci&#47;gcp-cli@3.0.1</span>
<span class="term-fg31">-  slack: circleci&#47;slack@4.10.1</span>
<span class="term-fg32">+</span>
 commands:
<span class="term-fg31">-  gcp-oidc-authenticate:</span>
<span class="term-fg31">-    description: &quot;Authenticate with GCP using a CircleCI OIDC token.&quot;</span>
<span class="term-fg31">-    parameters:</span>
<span class="term-fg31">-      project_id:</span>
<span class="term-fg31">-        type: env_var_name</span>
<span class="term-fg31">-        default: GCP_PROJECT_ID</span>
<span class="term-fg31">-      workload_identity_pool_id:</span>
<span class="term-fg31">-        type: env_var_name</span>
<span class="term-fg31">-        default: GCP_WIP_ID</span>
<span class="term-fg31">-      workload_identity_pool_provider_id:</span>
<span class="term-fg31">-        type: env_var_name</span>
<span class="term-fg31">-        default: GCP_WIP_PROVIDER_ID</span>
<span class="term-fg31">-      service_account_email:</span>
<span class="term-fg31">-        type: env_var_name</span>
<span class="term-fg31">-        default: GCP_SERVICE_ACCOUNT_EMAIL</span>
<span class="term-fg31">-      gcp_cred_config_file_path:</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &#47;home&#47;circleci&#47;gcp_cred_config.json</span>
<span class="term-fg31">-      oidc_token_file_path:</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &#47;home&#47;circleci&#47;oidc_token.json</span>
<span class="term-fg31">-    steps:</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: &quot;Create OIDC credential configuration&quot;</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            # Store OIDC token in temp file</span>
<span class="term-fg31">-            echo $CIRCLE_OIDC_TOKEN &gt; &lt;&lt; parameters.oidc_token_file_path &gt;&gt;</span>
<span class="term-fg31">-            # Create a credential configuration for the generated OIDC ID Token</span>
<span class="term-fg31">-            gcloud iam workload-identity-pools create-cred-config \</span>
<span class="term-fg31">-                &quot;projects&#47;${&lt;&lt; parameters.project_id &gt;&gt;}&#47;locations&#47;global&#47;workloadIdentityPools&#47;${&lt;&lt; parameters.workload_identity_pool_id &gt;&gt;}&#47;providers&#47;${&lt;&lt; parameters.workload_identity_pool_provider_id &gt;&gt;}&quot;\</span>
<span class="term-fg31">-                --output-file=&quot;&lt;&lt; parameters.gcp_cred_config_file_path &gt;&gt;&quot; \</span>
<span class="term-fg31">-                --service-account=&quot;${&lt;&lt; parameters.service_account_email &gt;&gt;}&quot; \</span>
<span class="term-fg31">-                --credential-source-file=&lt;&lt; parameters.oidc_token_file_path &gt;&gt;</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: &quot;Authenticate with GCP using OIDC&quot;</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            # Configure gcloud to leverage the generated credential configuration</span>
<span class="term-fg31">-            gcloud auth login --brief --cred-file &quot;&lt;&lt; parameters.gcp_cred_config_file_path &gt;&gt;&quot;</span>
<span class="term-fg31">-            # Configure ADC</span>
<span class="term-fg31">-            echo &quot;export GOOGLE_APPLICATION_CREDENTIALS=&#39;&lt;&lt; parameters.gcp_cred_config_file_path &gt;&gt;&#39;&quot; | tee -a &quot;$BASH_ENV&quot;</span>
   check-changed:
     description: &quot;Conditionally halts a step if certain modules change&quot;
     parameters:
<span class="term-fg36">@@ -106,7 +65,6 @@</span>
   pnpm-monorepo:
     docker:
       - image: us-docker.pkg.dev&#47;oplabs-tools-artifacts&#47;images&#47;ci-builder:latest
<span class="term-fg31">-    resource_class: xlarge</span>
     steps:
       - checkout
       - check-changed:
<span class="term-fg36">@@ -144,180 +102,6 @@</span>           paths:
             - &quot;packages&#47;**&#47;dist&quot;
             - &quot;packages&#47;contracts-bedrock&#47;forge-artifacts&quot;
&nbsp;
<span class="term-fg31">-  docker-build:</span>
<span class="term-fg31">-    environment:</span>
<span class="term-fg31">-      DOCKER_BUILDKIT: 1</span>
<span class="term-fg31">-    parameters:</span>
<span class="term-fg31">-      docker_name:</span>
<span class="term-fg31">-        description: Docker image name</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_tags:</span>
<span class="term-fg31">-        description: Docker image tags as csv</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_file:</span>
<span class="term-fg31">-        description: Path to Dockerfile</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_context:</span>
<span class="term-fg31">-        description: Docker build context</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      registry:</span>
<span class="term-fg31">-        description: Docker registry</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;us-docker.pkg.dev&quot;</span>
<span class="term-fg31">-      repo:</span>
<span class="term-fg31">-        description: Docker repo</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;oplabs-tools-artifacts&#47;images&quot;</span>
<span class="term-fg31">-    machine:</span>
<span class="term-fg31">-      image: ubuntu-2204:2022.07.1</span>
<span class="term-fg31">-      resource_class: medium</span>
<span class="term-fg31">-    steps:</span>
<span class="term-fg31">-      - checkout</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          command: mkdir -p &#47;tmp&#47;docker_images</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Build</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            # Check to see if DOCKER_HUB_READ_ONLY_TOKEN is set (i.e. we are in repo) before attempting to use secrets.</span>
<span class="term-fg31">-            # Building should work without this read only login, but may get rate limited.</span>
<span class="term-fg31">-            if [[ -v DOCKER_HUB_READ_ONLY_TOKEN ]]; then</span>
<span class="term-fg31">-              echo &quot;$DOCKER_HUB_READ_ONLY_TOKEN&quot; | docker login -u &quot;$DOCKER_HUB_READ_ONLY_USER&quot; --password-stdin</span>
<span class="term-fg31">-            fi</span>
<span class="term-fg31">-            IMAGE_BASE=&quot;&lt;&lt;parameters.registry&gt;&gt;&#47;&lt;&lt;parameters.repo&gt;&gt;&#47;&lt;&lt;parameters.docker_name&gt;&gt;&quot;</span>
<span class="term-fg31">-            DOCKER_TAGS=$(echo -ne &lt;&lt;parameters.docker_tags&gt;&gt; | sed &quot;s&#47;,&#47;\n&#47;g&quot; | sed &quot;s&#47;[^a-zA-Z0-9\n]&#47;-&#47;g&quot; | sed -e &quot;s|^|-t ${IMAGE_BASE}:|&quot;)</span>
<span class="term-fg31">-            docker build --progress plain \</span>
<span class="term-fg31">-            $(echo -ne $DOCKER_TAGS | tr &#39;\n&#39; &#39; &#39;) \</span>
<span class="term-fg31">-            -f &lt;&lt;parameters.docker_file&gt;&gt; \</span>
<span class="term-fg31">-            &lt;&lt;parameters.docker_context&gt;&gt;</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Save</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            IMAGE_BASE=&quot;&lt;&lt;parameters.registry&gt;&gt;&#47;&lt;&lt;parameters.repo&gt;&gt;&#47;&lt;&lt;parameters.docker_name&gt;&gt;&quot;</span>
<span class="term-fg31">-            DOCKER_LABELS=$(echo -ne &lt;&lt;parameters.docker_tags&gt;&gt; | sed &quot;s&#47;,&#47;\n&#47;g&quot; | sed &quot;s&#47;[^a-zA-Z0-9\n]&#47;-&#47;g&quot;)</span>
<span class="term-fg31">-            echo -ne $DOCKER_LABELS | tr &#39; &#39; &#39;\n&#39; | xargs -I {} docker save -o &#47;tmp&#47;docker_images&#47;&lt;&lt;parameters.docker_name&gt;&gt;_{}.tar $IMAGE_BASE:{}</span>
<span class="term-fg31">-      - persist_to_workspace:</span>
<span class="term-fg31">-          root: &#47;tmp&#47;docker_images</span>
<span class="term-fg31">-          paths:</span>
<span class="term-fg31">-            - &quot;.&quot;</span>
<span class="term-fg31">-</span>
<span class="term-fg31">-  docker-publish:</span>
<span class="term-fg31">-    environment:</span>
<span class="term-fg31">-      DOCKER_BUILDKIT: 1</span>
<span class="term-fg31">-    parameters:</span>
<span class="term-fg31">-      docker_name:</span>
<span class="term-fg31">-        description: Docker image name</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_tags:</span>
<span class="term-fg31">-        description: Docker image tags as csv</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_file:</span>
<span class="term-fg31">-        description: Path to Dockerfile</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_context:</span>
<span class="term-fg31">-        description: Docker build context</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;.&quot;</span>
<span class="term-fg31">-      docker_target:</span>
<span class="term-fg31">-        description: &quot;target build stage&quot;</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;&quot;</span>
<span class="term-fg31">-      registry:</span>
<span class="term-fg31">-        description: Docker registry</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;us-docker.pkg.dev&quot;</span>
<span class="term-fg31">-      repo:</span>
<span class="term-fg31">-        description: Docker repo</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;oplabs-tools-artifacts&#47;images&quot;</span>
<span class="term-fg31">-      platforms:</span>
<span class="term-fg31">-        description: Platforms to build for</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;linux&#47;amd64&quot;</span>
<span class="term-fg31">-    machine:</span>
<span class="term-fg31">-      image: ubuntu-2204:2022.07.1</span>
<span class="term-fg31">-      resource_class: medium</span>
<span class="term-fg31">-    steps:</span>
<span class="term-fg31">-      - gcp-oidc-authenticate</span>
<span class="term-fg31">-      # Below is CircleCI recommended way of specifying nameservers on an Ubuntu box:</span>
<span class="term-fg31">-      # https:&#47;&#47;support.circleci.com&#47;hc&#47;en-us&#47;articles&#47;7323511028251-How-to-set-custom-DNS-on-Ubuntu-based-images-using-netplan</span>
<span class="term-fg31">-      - run: sudo sed -i &#39;13 i \ \ \ \ \ \ \ \ \ \ \ \ nameservers:&#39; &#47;etc&#47;netplan&#47;50-cloud-init.yaml</span>
<span class="term-fg31">-      - run: sudo sed -i &#39;14 i \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ addresses:&#39; &#47;etc&#47;netplan&#47;50-cloud-init.yaml</span>
<span class="term-fg31">-      - run: sudo sed -i &quot;s&#47;addresses:&#47; addresses&quot;:&quot; [8.8.8.8, 8.8.4.4] &#47;g&quot; &#47;etc&#47;netplan&#47;50-cloud-init.yaml</span>
<span class="term-fg31">-      - run: cat &#47;etc&#47;netplan&#47;50-cloud-init.yaml</span>
<span class="term-fg31">-      - run: sudo netplan apply</span>
<span class="term-fg31">-      - checkout</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Build &amp; Publish</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            gcloud auth configure-docker &lt;&lt;parameters.registry&gt;&gt;</span>
<span class="term-fg31">-            IMAGE_BASE=&quot;&lt;&lt;parameters.registry&gt;&gt;&#47;&lt;&lt;parameters.repo&gt;&gt;&#47;&lt;&lt;parameters.docker_name&gt;&gt;&quot;</span>
<span class="term-fg31">-            DOCKER_TAGS=$(echo -ne &lt;&lt;parameters.docker_tags&gt;&gt; | sed &quot;s&#47;,&#47;\n&#47;g&quot; | sed &quot;s&#47;[^a-zA-Z0-9\n]&#47;-&#47;g&quot; | sed -e &quot;s|^|-t ${IMAGE_BASE}:|&quot;)</span>
<span class="term-fg31">-            docker context create buildx-build</span>
<span class="term-fg31">-            docker buildx create --use buildx-build</span>
<span class="term-fg31">-            docker buildx build --progress plain --platform=&lt;&lt;parameters.platforms&gt;&gt; --target &quot;&lt;&lt;parameters.docker_target&gt;&gt;&quot; --push \</span>
<span class="term-fg31">-              $(echo -ne $DOCKER_TAGS | tr &#39;\n&#39; &#39; &#39;) \</span>
<span class="term-fg31">-              -f &lt;&lt;parameters.docker_file&gt;&gt; \</span>
<span class="term-fg31">-              &lt;&lt;parameters.docker_context&gt;&gt;</span>
<span class="term-fg31">-</span>
<span class="term-fg31">-  docker-release:</span>
<span class="term-fg31">-    environment:</span>
<span class="term-fg31">-      DOCKER_BUILDKIT: 1</span>
<span class="term-fg31">-    parameters:</span>
<span class="term-fg31">-      docker_name:</span>
<span class="term-fg31">-        description: Docker image name</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_tags:</span>
<span class="term-fg31">-        description: Docker image tags as csv</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_file:</span>
<span class="term-fg31">-        description: Path to Dockerfile</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_context:</span>
<span class="term-fg31">-        description: Docker build context</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-      docker_target:</span>
<span class="term-fg31">-        description: &quot;target build stage&quot;</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;&quot;</span>
<span class="term-fg31">-      registry:</span>
<span class="term-fg31">-        description: Docker registry</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;us-docker.pkg.dev&quot;</span>
<span class="term-fg31">-      repo:</span>
<span class="term-fg31">-        description: Docker repo</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;oplabs-tools-artifacts&#47;images&quot;</span>
<span class="term-fg31">-      platforms:</span>
<span class="term-fg31">-        description: Platforms to build for</span>
<span class="term-fg31">-        type: string</span>
<span class="term-fg31">-        default: &quot;linux&#47;amd64&quot;</span>
<span class="term-fg31">-    machine:</span>
<span class="term-fg31">-      image: ubuntu-2204:2022.07.1</span>
<span class="term-fg31">-      resource_class: medium</span>
<span class="term-fg31">-    steps:</span>
<span class="term-fg31">-      - gcp-cli&#47;install</span>
<span class="term-fg31">-      - gcp-oidc-authenticate</span>
<span class="term-fg31">-      - checkout</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Configure Docker</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            gcloud auth configure-docker &lt;&lt;parameters.registry&gt;&gt;</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Build &amp; Publish</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            IMAGE_BASE=&quot;&lt;&lt;parameters.registry&gt;&gt;&#47;&lt;&lt;parameters.repo&gt;&gt;&#47;&lt;&lt;parameters.docker_name&gt;&gt;&quot;</span>
<span class="term-fg31">-            DOCKER_TAGS=$(echo -ne &lt;&lt;parameters.docker_tags&gt;&gt; | sed &quot;s&#47;,&#47;\n&#47;g&quot; | sed &quot;s&#47;[^a-zA-Z0-9\n]&#47;-&#47;g&quot; | sed -e &quot;s|^|-t ${IMAGE_BASE}:|&quot;)</span>
<span class="term-fg31">-            docker context create buildx-build</span>
<span class="term-fg31">-            docker buildx create --use buildx-build</span>
<span class="term-fg31">-            docker buildx build --progress plain --platform=&lt;&lt;parameters.platforms&gt;&gt; --target &quot;&lt;&lt;parameters.docker_target&gt;&gt;&quot; --push \</span>
<span class="term-fg31">-              $(echo -ne $DOCKER_TAGS | tr &#39;\n&#39; &#39; &#39;) \</span>
<span class="term-fg31">-              -f &lt;&lt;parameters.docker_file&gt;&gt; \</span>
<span class="term-fg31">-              &lt;&lt;parameters.docker_context&gt;&gt;</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Tag</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            .&#47;ops&#47;scripts&#47;ci-docker-tag-op-stack-release.sh &lt;&lt;parameters.registry&gt;&gt;&#47;&lt;&lt;parameters.repo&gt;&gt; $CIRCLE_TAG $CIRCLE_SHA1</span>
<span class="term-fg31">-</span>
   contracts-bedrock-coverage:
     docker:
       - image: us-docker.pkg.dev&#47;oplabs-tools-artifacts&#47;images&#47;ci-builder:latest
<span class="term-fg36">@@ -346,7 +130,7 @@</span>
   contracts-bedrock-tests:
     docker:
       - image: us-docker.pkg.dev&#47;oplabs-tools-artifacts&#47;images&#47;ci-builder:latest
<span class="term-fg31">-    resource_class: xlarge</span>
<span class="term-fg32">+    resource_class: large</span>
     steps:
       - checkout
       - check-changed:
<span class="term-fg36">@@ -366,7 +150,7 @@</span>
   contracts-bedrock-checks:
     docker:
       - image: us-docker.pkg.dev&#47;oplabs-tools-artifacts&#47;images&#47;ci-builder:latest
<span class="term-fg31">-    resource_class: xlarge</span>
<span class="term-fg32">+    resource_class: large</span>
     steps:
       - checkout
       - restore_cache:
<span class="term-fg36">@@ -632,32 +416,6 @@</span>       - run:
           name: markdown lint
           command: pnpm lint:specs:check
&nbsp;
<span class="term-fg31">-  bedrock-markdown-links:</span>
<span class="term-fg31">-    machine:</span>
<span class="term-fg31">-      image: ubuntu-2204:2022.07.1</span>
<span class="term-fg31">-    steps:</span>
<span class="term-fg31">-      - checkout</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Install pnpm package manager</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            npm i pnpm --global</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Install node_modules</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            pnpm install --frozen-lockfile --prefer-offline</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: Lint check</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            pnpm lint:specs:check</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: link lint</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            make bedrock-markdown-links</span>
<span class="term-fg31">-      - slack&#47;notify:</span>
<span class="term-fg31">-          channel: C055R639XT9 #notify-link-check</span>
<span class="term-fg31">-          event: fail</span>
<span class="term-fg31">-          template: basic_fail_1</span>
<span class="term-fg31">-</span>
   fuzz-op-node:
     docker:
       - image: us-docker.pkg.dev&#47;oplabs-tools-artifacts&#47;images&#47;ci-builder:latest
<span class="term-fg36">@@ -752,7 +510,6 @@</span>         description: Go Module Name
         type: string
     docker:
       - image: us-docker.pkg.dev&#47;oplabs-tools-artifacts&#47;images&#47;ci-builder:latest # only used to enable codecov.
<span class="term-fg31">-    resource_class: xlarge</span>
     steps:
       - checkout
       - run:
<span class="term-fg36">@@ -783,7 +540,6 @@</span>         description: The extra-process shim (if any) that should be used
         type: string
     docker:
       - image: us-docker.pkg.dev&#47;oplabs-tools-artifacts&#47;images&#47;ci-builder:latest
<span class="term-fg31">-    resource_class: xlarge</span>
     steps:
       - checkout
       - check-changed:
<span class="term-fg36">@@ -1060,21 +816,6 @@</span>     resource_class: medium
     steps:
       - run: echo Done
&nbsp;
<span class="term-fg31">-  fpp-verify:</span>
<span class="term-fg31">-    docker:</span>
<span class="term-fg31">-      - image: cimg&#47;go:1.20</span>
<span class="term-fg31">-    steps:</span>
<span class="term-fg31">-      - checkout</span>
<span class="term-fg31">-      - run:</span>
<span class="term-fg31">-          name: verify-goerli</span>
<span class="term-fg31">-          command: |</span>
<span class="term-fg31">-            make verify-goerli</span>
<span class="term-fg31">-          working_directory: op-program</span>
<span class="term-fg31">-      - slack&#47;notify:</span>
<span class="term-fg31">-          channel: C03N11M0BBN</span>
<span class="term-fg31">-          event: fail</span>
<span class="term-fg31">-          template: basic_fail_1</span>
<span class="term-fg31">-</span>
   check-generated-mocks-op-node:
     docker:
       - image: us-docker.pkg.dev&#47;oplabs-tools-artifacts&#47;images&#47;ci-builder:latest
<span class="term-fg36">@@ -1266,284 +1007,7 @@</span>             - op-program-tests
             - op-service-tests
             - op-e2e-WS-tests
             - op-e2e-HTTP-tests
<span class="term-fg31">-      - docker-build:</span>
<span class="term-fg31">-          name: op-node-docker-build</span>
<span class="term-fg31">-          docker_file: op-node&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-node</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-      - docker-publish:</span>
<span class="term-fg31">-          name: op-node-docker-publish</span>
<span class="term-fg31">-          docker_name: op-node</span>
<span class="term-fg31">-          docker_file: op-node&#47;Dockerfile</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-      - docker-build:</span>
<span class="term-fg31">-          name: op-batcher-docker-build</span>
<span class="term-fg31">-          docker_file: op-batcher&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-batcher</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-      - docker-publish:</span>
<span class="term-fg31">-          name: op-batcher-docker-publish</span>
<span class="term-fg31">-          docker_file: op-batcher&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-batcher</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-      - docker-build:</span>
<span class="term-fg31">-          name: op-program-docker-build</span>
<span class="term-fg31">-          docker_file: op-program&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-program</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-      - docker-publish:</span>
<span class="term-fg31">-          name: op-program-docker-publish</span>
<span class="term-fg31">-          docker_file: op-program&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-program</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-      - docker-build:</span>
<span class="term-fg31">-          name: op-proposer-docker-build</span>
<span class="term-fg31">-          docker_file: op-proposer&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-proposer</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-      - docker-publish:</span>
<span class="term-fg31">-          name: op-proposer-docker-publish</span>
<span class="term-fg31">-          docker_file: op-proposer&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-proposer</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-      - docker-build:</span>
<span class="term-fg31">-          name: op-challenger-docker-build</span>
<span class="term-fg31">-          docker_file: op-challenger&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-challenger</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-      - docker-publish:</span>
<span class="term-fg31">-          name: op-challenger-docker-publish</span>
<span class="term-fg31">-          docker_file: op-challenger&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-challenger</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-      - docker-build:</span>
<span class="term-fg31">-          name: op-heartbeat-docker-build</span>
<span class="term-fg31">-          docker_file: op-heartbeat&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-heartbeat</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-      - docker-publish:</span>
<span class="term-fg31">-          name: op-heartbeat-docker-publish</span>
<span class="term-fg31">-          docker_file: op-heartbeat&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-heartbeat</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
<span class="term-fg31">-      - docker-build:</span>
<span class="term-fg31">-          name: indexer-docker-build</span>
<span class="term-fg31">-          docker_file: indexer&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: indexer</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-      - docker-publish:</span>
<span class="term-fg31">-          name: indexer-docker-publish</span>
<span class="term-fg31">-          docker_file: indexer&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: indexer</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
<span class="term-fg31">-      - docker-publish:</span>
<span class="term-fg31">-          name: chain-mon-docker-publish</span>
<span class="term-fg31">-          docker_file: .&#47;ops&#47;docker&#47;Dockerfile.packages</span>
<span class="term-fg31">-          docker_name: chain-mon</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_target: wd-mon</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
       - check-generated-mocks-op-node
       - check-generated-mocks-op-service
       - cannon-go-lint-and-test
<span class="term-fg31">-      - cannon-build-test-vectors</span>
<span class="term-fg31">-  release:</span>
<span class="term-fg31">-    jobs:</span>
<span class="term-fg31">-      - hold:</span>
<span class="term-fg31">-          type: approval</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^(proxyd|indexer|ci-builder|op-[a-z0-9\-]*)\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-      - docker-release:</span>
<span class="term-fg31">-          name: op-node-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^op-node\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: op-node&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-node</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr-release</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-      - docker-release:</span>
<span class="term-fg31">-          name: op-batcher-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^op-batcher\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: op-batcher&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-batcher</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr-release</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-      - docker-release:</span>
<span class="term-fg31">-          name: op-proposer-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^op-proposer\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: op-proposer&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-proposer</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr-release</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-      - docker-release:</span>
<span class="term-fg31">-          name: op-challenger-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^op-challenger\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: op-challenger&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-challenger</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          platforms: &quot;linux&#47;amd64,linux&#47;arm64&quot;</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr-release</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-      - docker-build:</span>
<span class="term-fg31">-          name: op-migrate-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^op-migrate\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: op-chain-ops&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-migrate</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr-release</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-      - docker-release:</span>
<span class="term-fg31">-          name: op-ufm-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^op-ufm\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: op-ufm&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: op-ufm</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr-release</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-      - docker-release:</span>
<span class="term-fg31">-          name: proxyd-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^proxyd\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: proxyd&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: proxyd</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr-release</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-      - docker-release:</span>
<span class="term-fg31">-          name: indexer-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^indexer\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: indexer&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: indexer</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,&lt;&lt;pipeline.git.branch&gt;&gt;</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr-release</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-      - docker-release:</span>
<span class="term-fg31">-          name: ci-builder-docker-release</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            tags:</span>
<span class="term-fg31">-              only: &#47;^ci-builder\&#47;v.*&#47;</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              ignore: &#47;.*&#47;</span>
<span class="term-fg31">-          docker_file: .&#47;ops&#47;docker&#47;ci-builder&#47;Dockerfile</span>
<span class="term-fg31">-          docker_name: ci-builder</span>
<span class="term-fg31">-          docker_tags: &lt;&lt;pipeline.git.revision&gt;&gt;,latest</span>
<span class="term-fg31">-          docker_context: .</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - oplabs-gcr</span>
<span class="term-fg31">-          requires:</span>
<span class="term-fg31">-            - hold</span>
<span class="term-fg31">-  scheduled-fpp:</span>
<span class="term-fg31">-    triggers:</span>
<span class="term-fg31">-      - schedule:</span>
<span class="term-fg31">-          # run every 4 hours</span>
<span class="term-fg31">-          cron: &quot;0 0,6,12,18 * * *&quot;</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              only: [&quot;develop&quot;]</span>
<span class="term-fg31">-    jobs:</span>
<span class="term-fg31">-      - fpp-verify:</span>
<span class="term-fg31">-          context:</span>
<span class="term-fg31">-            - slack</span>
<span class="term-fg31">-            - oplabs-fpp-nodes</span>
<span class="term-fg31">-</span>
<span class="term-fg31">-  scheduled-link-check:</span>
<span class="term-fg31">-    triggers:</span>
<span class="term-fg31">-      - schedule:</span>
<span class="term-fg31">-          # Run once a day, only on the develop branch</span>
<span class="term-fg31">-          cron: &quot;0 0 * * *&quot;</span>
<span class="term-fg31">-          filters:</span>
<span class="term-fg31">-            branches:</span>
<span class="term-fg31">-              only: [&quot;develop&quot;]</span>
<span class="term-fg31">-    jobs:</span>
<span class="term-fg31">-      - bedrock-markdown-links:</span>
<span class="term-fg31">-          context: slack</span>
<span class="term-fg32">+      - cannon-build-test-vectors</span>
<span class="term-fg32">\ No newline at end of file</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-584d5ca6dd972354b2200457" role="button"
                   aria-expanded="false" aria-controls="id-584d5ca6dd972354b2200457">
                    <code>.github/workflows/pages.yml</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/.github/workflows/pages.yml" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+33</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-584d5ca6dd972354b2200457"><span class="term-fg1">diff --git OP&#47;.github&#47;workflows&#47;pages.yml CELO&#47;.github&#47;workflows&#47;pages.yml</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..68ec20eff263e526661432dc304b005b378af875</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;.github&#47;workflows&#47;pages.yml</span>
<span class="term-fg36">@@ -0,0 +1,33 @@</span>
<span class="term-fg32">+name: Build and publish forkdiff github-pages</span>
<span class="term-fg32">+permissions:</span>
<span class="term-fg32">+  contents: write</span>
<span class="term-fg32">+on:</span>
<span class="term-fg32">+  push:</span>
<span class="term-fg32">+    branches:</span>
<span class="term-fg32">+      - celo[0-9]+</span>
<span class="term-fg32">+jobs:</span>
<span class="term-fg32">+  deploy:</span>
<span class="term-fg32">+    concurrency: ci-${{ github.ref }}</span>
<span class="term-fg32">+    runs-on: ubuntu-latest</span>
<span class="term-fg32">+    steps:</span>
<span class="term-fg32">+      - name: Checkout</span>
<span class="term-fg32">+        uses: actions&#47;checkout@v3</span>
<span class="term-fg32">+        with:</span>
<span class="term-fg32">+          fetch-depth: 1000  # make sure to fetch the old commit we diff against</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+      - name: Build forkdiff</span>
<span class="term-fg32">+        uses: &quot;docker:&#47;&#47;protolambda&#47;forkdiff:latest&quot;</span>
<span class="term-fg32">+        with:</span>
<span class="term-fg32">+          args: -repo=&#47;github&#47;workspace -fork=&#47;github&#47;workspace&#47;fork.yaml -out=&#47;github&#47;workspace&#47;index.html</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+      - name: Build pages</span>
<span class="term-fg32">+        run: |</span>
<span class="term-fg32">+          mkdir -p tmp&#47;pages</span>
<span class="term-fg32">+          mv index.html tmp&#47;pages&#47;index.html</span>
<span class="term-fg32">+          touch tmp&#47;pages&#47;.nojekyll</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+      - name: Deploy</span>
<span class="term-fg32">+        uses: JamesIves&#47;github-pages-deploy-action@v4</span>
<span class="term-fg32">+        with:</span>
<span class="term-fg32">+          folder: tmp&#47;pages</span>
<span class="term-fg32">+          clean: true</span></div>
    </div>

            
                <div class="border-bottom"><div class="row">
            <div class="col-12 col-md-4 text-start pe-2">
                <a class="text-decoration-none" data-bs-toggle="collapse" href="#id-401249386e7ad449c420a167" role="button"
                   aria-expanded="false" aria-controls="id-401249386e7ad449c420a167">
                    <code>fork.yaml</code>
                </a>
            </div>

            <div class="col-12 col-sm-8 col-md-4 text-start px-2">
                <div class="row">
                    <div class="col-6">
                        
                            <span class="text-muted">(new)</span>
                        
                    </div>

                    <div class="col-6">
                        
                            <a href="https://github.com/celo-org/optimism/blob/576145186cd022e5c538d2614886e06d4530bac2/fork.yaml" target="_blank">CELO <i class="bi bi-github"></i></a>
                        
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-4 ms-auto ps-2">
                
                    <div class="row line-stat">
                        <div class="text-end"><span class="text-success">+145</span></div>
                        <div class="text-start"><span class="text-danger">-0</span></div>
                    </div>
                
            </div>
        </div>
        <div class="collapse patch-content term-container" id="id-401249386e7ad449c420a167"><span class="term-fg1">diff --git OP&#47;fork.yaml CELO&#47;fork.yaml</span>
<span class="term-fg1">new file mode 100644</span>
<span class="term-fg1">index 0000000000000000000000000000000000000000..07f63589f66b312aea37b1ac27c77b3a640a1aee</span>
<span class="term-fg1">--- &#47;dev&#47;null</span>
<span class="term-fg1">+++ CELO&#47;fork.yaml</span>
<span class="term-fg36">@@ -0,0 +1,145 @@</span>
<span class="term-fg32">+title: &quot;CELO &lt;&gt; OP optimism forkdiff&quot;</span>
<span class="term-fg32">+footer: |</span>
<span class="term-fg32">+  Fork-diff overview of changes made in [Celo&#39;s `optimism`](https:&#47;&#47;github.com&#47;celo-org&#47;optimism),</span>
<span class="term-fg32">+  a fork of [Optimism&#39;s `optimism`](https:&#47;&#47;github.com&#47;ethereum-optimism&#47;optimism).</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+base:</span>
<span class="term-fg32">+  name: OP</span>
<span class="term-fg32">+  url: https:&#47;&#47;github.com&#47;ethereum-optimism&#47;optimism</span>
<span class="term-fg32">+  hash: c0f0f2d5fc6f1aaa6bf05e102ec0b8bdf74356db # tracks the last rebased commit</span>
<span class="term-fg32">+fork:</span>
<span class="term-fg32">+  name: CELO</span>
<span class="term-fg32">+  url: https:&#47;&#47;github.com&#47;celo-org&#47;optimism</span>
<span class="term-fg32">+  ref: HEAD</span>
<span class="term-fg32">+def:</span>
<span class="term-fg32">+  title: &quot;Celo&#39;s optimism&quot;</span>
<span class="term-fg32">+  description: |</span>
<span class="term-fg32">+    This is an overview of the changes in [Celo&#39;s `optimism` implementation](https:&#47;&#47;github.com&#47;celo-org&#47;optimism),</span>
<span class="term-fg32">+    a fork of [Optimism&#39;s `optimism`](https:&#47;&#47;github.com&#47;ethereum-optimism&#47;optimism).</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    Changes are currently separated by sub-package or component. Check out the [README](https:&#47;&#47;github.com&#47;celo-org&#47;optimism&#47;blob&#47;develop&#47;README.md)</span>
<span class="term-fg32">+    for more details about each of these components and packages.</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+  sub:</span>
<span class="term-fg32">+    - title: &quot;packages&#47;*&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      sub:</span>
<span class="term-fg32">+      - title: &quot;common-ts&quot;</span>
<span class="term-fg32">+        description: &quot;&quot;</span>
<span class="term-fg32">+        globs:</span>
<span class="term-fg32">+          - &quot;packages&#47;common-ts&#47;*&quot;</span>
<span class="term-fg32">+      - title: &quot;contracts-bedrock&quot;</span>
<span class="term-fg32">+        description: &quot;&quot;</span>
<span class="term-fg32">+        globs:</span>
<span class="term-fg32">+          - &quot;packages&#47;contracts-bedrock&#47;*&quot;</span>
<span class="term-fg32">+          - &quot;packages&#47;contracts-bedrock&#47;*&#47;*&quot;</span>
<span class="term-fg32">+          - &quot;packages&#47;contracts-bedrock&#47;*&#47;*&#47;*&quot;</span>
<span class="term-fg32">+      - title: &quot;core-utils&quot;</span>
<span class="term-fg32">+        description: &quot;&quot;</span>
<span class="term-fg32">+        globs:</span>
<span class="term-fg32">+          - &quot;packages&#47;core-utils&#47;*&quot;</span>
<span class="term-fg32">+      - title: &quot;chain-mon&quot;</span>
<span class="term-fg32">+        description: &quot;&quot;</span>
<span class="term-fg32">+        globs:</span>
<span class="term-fg32">+          - &quot;packages&#47;chain-mon&#47;*&quot;</span>
<span class="term-fg32">+      - title: &quot;sdk&quot;</span>
<span class="term-fg32">+        description: &quot;&quot;</span>
<span class="term-fg32">+        globs:</span>
<span class="term-fg32">+          - &quot;packages&#47;sdk&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-bindings&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-bindings&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-bindings&#47;*&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-batcher&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-batcher&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-bootnode&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-bootnode&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-chain-ops&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-chain-ops&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-chain-ops&#47;*&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-chain-ops&#47;*&#47;*&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-challenger&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-challenger&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-challenger&#47;*&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-challenger&#47;*&#47;*&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-e2e&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-e2e&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-e2e&#47;*&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-e2e&#47;*&#47;*&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-e2e&#47;*&#47;*&#47;*&#47;*&quot;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+    - title: &quot;op-exporter&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-exporter&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-heartbeat&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-heartbeat&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-node&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-node&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-node&#47;*&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;op-node&#47;*&#47;*&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-program&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-program&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-proposer&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-proposer&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-service&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-service&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-signer&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-signer&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;op-wheel&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;op-wheel&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;ops-bedrock&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;ops-bedrock&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;proxyd&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;proxyd&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;specs&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;specs&#47;*&quot;</span>
<span class="term-fg32">+    - title: &quot;indexer&quot;</span>
<span class="term-fg32">+      description: &quot;&quot;</span>
<span class="term-fg32">+      globs:</span>
<span class="term-fg32">+        - &quot;indexer&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;indexer&#47;*&#47;*&quot;</span>
<span class="term-fg32">+        - &quot;indexer&#47;*&#47;*&#47;*&quot;</span>
<span class="term-fg32">+</span>
<span class="term-fg32">+# ignored globally, does not count towards line count</span>
<span class="term-fg32">+ignore:</span>
<span class="term-fg32">+  - &quot;.circleci&#47;*&quot;</span>
<span class="term-fg32">+  - &quot;*.sum&quot;</span>
<span class="term-fg32">+  - &quot;go.mod&quot;</span>
<span class="term-fg32">+  - &quot;fork.yaml&quot;</span>
<span class="term-fg32">+  - &quot;.github&#47;workflows&#47;*&quot;</span>
<span class="term-fg32">+  - &quot;.changeset&#47;*&quot;</span>
<span class="term-fg32">+  - &quot;.github&#47;*&quot;</span>
<span class="term-fg32">+  - &quot;CONTRIBUTING.md&quot;</span>
<span class="term-fg32">+  - &quot;pnpm-lock.yaml&quot;</span></div>
    </div>

            
        </div>
        <div>
            
        </div>
    </div>
</div>

                    </div>
                
            </div>
        </main>
    </div>

    <footer class="col-xl-10 col-xxl-8 mx-auto px-3 pt-5 my-5 text-muted border-top">
        <p>Fork-diff overview of changes made in <a href="https://github.com/celo-org/optimism">Celo&rsquo;s <code>optimism</code></a>,
a fork of <a href="https://github.com/ethereum-optimism/optimism">Optimism&rsquo;s <code>optimism</code></a>.</p>

    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.min.js" integrity="sha384-mQ93GR66B00ZXjt0YO5KlohRA5SY2XofN4zfuZxLkoj1gXtW8ANNCe9d5Y3eG5eD" crossorigin="anonymous"></script>
    <script type="text/javascript">
        const storedTheme = localStorage.getItem('theme')

        // Get the preferred theme from the user's OS
        const getPreferredTheme = () => {
            if (storedTheme) {
                return storedTheme
            }

            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light'
        }

        // Set the bootstrap theme
        const setTheme = function (theme) {
            document.documentElement.setAttribute('data-bs-theme', theme)
            if (theme === 'dark') {
                document.getElementById('dark-mode-toggle').setAttribute('checked', true)
                document.getElementById('dark-mode-icon').classList.replace('bi-brightness-high-fill', 'bi-brightness-low')
            } else {
                document.getElementById('dark-mode-toggle').setAttribute('checked', false)
                document.getElementById('dark-mode-icon').classList.replace('bi-brightness-low', 'bi-brightness-high-fill')
            }
        }

        // Returns true if the current theme is dark
        const isDark = () => {
            return document.documentElement.getAttribute('data-bs-theme') === 'dark'
        }

        // Toggles dark mode
        const toggleDarkMode = () => {
            const newTheme = isDark() ? 'light' : 'dark'
            setTheme(newTheme)
            localStorage.setItem('theme', newTheme)
        }

        // Set the preferred theme on page load
        window.onload = () => {
            // Set preferred theme
            setTheme(getPreferredTheme());
            // Initialize tooltips
            const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
            const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
        }

        // Toggle dark mode when the toggle button is clicked
        addEventListener("click", (event) => {
            if (event.target.id === 'dark-mode-toggle') {
                toggleDarkMode();
                // De-focus the toggle
                document.activeElement.blur()
            }
        });
    </script>
</body>
</html>
